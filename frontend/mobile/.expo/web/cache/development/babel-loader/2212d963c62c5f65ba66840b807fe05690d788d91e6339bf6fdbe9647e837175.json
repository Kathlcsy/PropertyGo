{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ImageView from 'react-native-image-viewing';\nimport base64 from 'react-native-base64';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar ImageGallery = function ImageGallery(_ref) {\n  var images = _ref.images;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    visible = _useState2[0],\n    setVisible = _useState2[1];\n  var _useState3 = useState(0),\n    _useState4 = _slicedToArray(_useState3, 2),\n    initialIndex = _useState4[0],\n    setInitialIndex = _useState4[1];\n  var openImageViewer = function openImageViewer(index) {\n    setInitialIndex(index);\n    setVisible(true);\n  };\n  var renderItem = function renderItem(_ref2) {\n    var item = _ref2.item,\n      index = _ref2.index;\n    var base64String = base64.encodeFromByteArray(item.image.data);\n    return _jsx(TouchableOpacity, {\n      onPress: function onPress() {\n        return openImageViewer(index);\n      },\n      children: _jsx(Image, {\n        source: {\n          uri: `data:image/jpeg;base64,${base64String}`\n        },\n        style: {\n          width: 150,\n          height: 150,\n          marginHorizontal: 3\n        }\n      })\n    });\n  };\n  return _jsxs(View, {\n    style: {\n      marginHorizontal: 15,\n      marginTop: 10\n    },\n    children: [_jsx(FlatList, {\n      data: images,\n      keyExtractor: function keyExtractor(item) {\n        return item.imageId.toString();\n      },\n      renderItem: renderItem,\n      horizontal: true\n    }), _jsx(ImageView, {\n      images: images.map(function (item) {\n        return {\n          uri: `data:image/jpeg;base64,${base64.encodeFromByteArray(item.image.data)}`\n        };\n      }),\n      imageIndex: initialIndex,\n      visible: visible,\n      onRequestClose: function onRequestClose() {\n        return setVisible(false);\n      }\n    })]\n  });\n};\nexport default ImageGallery;","map":{"version":3,"names":["React","useState","View","Image","FlatList","TouchableOpacity","ImageView","base64","jsx","_jsx","jsxs","_jsxs","ImageGallery","_ref","images","_useState","_useState2","_slicedToArray","visible","setVisible","_useState3","_useState4","initialIndex","setInitialIndex","openImageViewer","index","renderItem","_ref2","item","base64String","encodeFromByteArray","image","data","onPress","children","source","uri","style","width","height","marginHorizontal","marginTop","keyExtractor","imageId","toString","horizontal","map","imageIndex","onRequestClose"],"sources":["/Users/kathleen/Documents/IS4103Capstone/PropertyGo/frontend/mobile/components/Forum/ImageGallery.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { View, Image, FlatList, TouchableOpacity } from 'react-native';\nimport ImageView from 'react-native-image-viewing';\nimport base64 from 'react-native-base64';\n\nconst ImageGallery = ({ images }) => {\n  const [visible, setVisible] = useState(false);\n  const [initialIndex, setInitialIndex] = useState(0);\n\n  const openImageViewer = (index) => {\n    setInitialIndex(index);\n    setVisible(true);\n  };\n\n  const renderItem = ({ item, index }) => {\n    // Convert the binary image data to a base64-encoded string\n    const base64String = base64.encodeFromByteArray(item.image.data);\n    // console.log(base64String);\n\n    return (\n      <TouchableOpacity onPress={() => openImageViewer(index)}>\n        <Image\n          source={{\n            uri: `data:image/jpeg;base64,${base64String}`,\n          }}\n          style={{ width: 150, height: 150, marginHorizontal:3 }} // You can adjust the dimensions here\n          // Add error handling if needed\n        />\n      </TouchableOpacity>\n    );\n  };\n\n  return (\n    <View style={{marginHorizontal:15, marginTop:10}}>\n      <FlatList\n        data={images}\n        keyExtractor={(item) => item.imageId.toString()}\n        renderItem={renderItem}\n        horizontal={true}\n      />\n      <ImageView\n        images={images.map((item) => ({\n          uri: `data:image/jpeg;base64,${base64.encodeFromByteArray(item.image.data)}`,\n        }))}\n        imageIndex={initialIndex}\n        visible={visible}\n        onRequestClose={() => setVisible(false)}\n      />\n    </View>\n  );\n};\n\nexport default ImageGallery;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AAAC,OAAAC,IAAA;AAAA,OAAAC,KAAA;AAAA,OAAAC,QAAA;AAAA,OAAAC,gBAAA;AAExC,OAAOC,SAAS,MAAM,4BAA4B;AAClD,OAAOC,MAAM,MAAM,qBAAqB;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAEzC,IAAMC,YAAY,GAAG,SAAfA,YAAYA,CAAAC,IAAA,EAAmB;EAAA,IAAbC,MAAM,GAAAD,IAAA,CAANC,MAAM;EAC5B,IAAAC,SAAA,GAA8Bd,QAAQ,CAAC,KAAK,CAAC;IAAAe,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAAtCG,OAAO,GAAAF,UAAA;IAAEG,UAAU,GAAAH,UAAA;EAC1B,IAAAI,UAAA,GAAwCnB,QAAQ,CAAC,CAAC,CAAC;IAAAoB,UAAA,GAAAJ,cAAA,CAAAG,UAAA;IAA5CE,YAAY,GAAAD,UAAA;IAAEE,eAAe,GAAAF,UAAA;EAEpC,IAAMG,eAAe,GAAG,SAAlBA,eAAeA,CAAIC,KAAK,EAAK;IACjCF,eAAe,CAACE,KAAK,CAAC;IACtBN,UAAU,CAAC,IAAI,CAAC;EAClB,CAAC;EAED,IAAMO,UAAU,GAAG,SAAbA,UAAUA,CAAAC,KAAA,EAAwB;IAAA,IAAlBC,IAAI,GAAAD,KAAA,CAAJC,IAAI;MAAEH,KAAK,GAAAE,KAAA,CAALF,KAAK;IAE/B,IAAMI,YAAY,GAAGtB,MAAM,CAACuB,mBAAmB,CAACF,IAAI,CAACG,KAAK,CAACC,IAAI,CAAC;IAGhE,OACEvB,IAAA,CAACJ,gBAAgB;MAAC4B,OAAO,EAAE,SAAAA,QAAA;QAAA,OAAMT,eAAe,CAACC,KAAK,CAAC;MAAA,CAAC;MAAAS,QAAA,EACtDzB,IAAA,CAACN,KAAK;QACJgC,MAAM,EAAE;UACNC,GAAG,EAAG,0BAAyBP,YAAa;QAC9C,CAAE;QACFQ,KAAK,EAAE;UAAEC,KAAK,EAAE,GAAG;UAAEC,MAAM,EAAE,GAAG;UAAEC,gBAAgB,EAAC;QAAE;MAAE,CAExD;IAAC,CACc,CAAC;EAEvB,CAAC;EAED,OACE7B,KAAA,CAACT,IAAI;IAACmC,KAAK,EAAE;MAACG,gBAAgB,EAAC,EAAE;MAAEC,SAAS,EAAC;IAAE,CAAE;IAAAP,QAAA,GAC/CzB,IAAA,CAACL,QAAQ;MACP4B,IAAI,EAAElB,MAAO;MACb4B,YAAY,EAAE,SAAAA,aAACd,IAAI;QAAA,OAAKA,IAAI,CAACe,OAAO,CAACC,QAAQ,CAAC,CAAC;MAAA,CAAC;MAChDlB,UAAU,EAAEA,UAAW;MACvBmB,UAAU,EAAE;IAAK,CAClB,CAAC,EACFpC,IAAA,CAACH,SAAS;MACRQ,MAAM,EAAEA,MAAM,CAACgC,GAAG,CAAC,UAAClB,IAAI;QAAA,OAAM;UAC5BQ,GAAG,EAAG,0BAAyB7B,MAAM,CAACuB,mBAAmB,CAACF,IAAI,CAACG,KAAK,CAACC,IAAI,CAAE;QAC7E,CAAC;MAAA,CAAC,CAAE;MACJe,UAAU,EAAEzB,YAAa;MACzBJ,OAAO,EAAEA,OAAQ;MACjB8B,cAAc,EAAE,SAAAA,eAAA;QAAA,OAAM7B,UAAU,CAAC,KAAK,CAAC;MAAA;IAAC,CACzC,CAAC;EAAA,CACE,CAAC;AAEX,CAAC;AAED,eAAeP,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}