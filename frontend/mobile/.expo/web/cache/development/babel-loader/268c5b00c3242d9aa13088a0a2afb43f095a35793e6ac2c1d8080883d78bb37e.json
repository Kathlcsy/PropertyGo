{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React from 'react';\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport useWindowDimensions from \"react-native-web/dist/exports/useWindowDimensions\";\nimport { getTimeAgo } from \"../services/CalculateTimeAgo\";\nimport HTML from 'react-native-render-html';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar BoxItem = function BoxItem(_ref) {\n  var onPress = _ref.onPress,\n    parentTitleStatus = _ref.parentTitleStatus,\n    title = _ref.title,\n    reason = _ref.reason,\n    message = _ref.message,\n    updatedAt = _ref.updatedAt,\n    responses = _ref.responses;\n  var windowWidth = useWindowDimensions().width;\n  var backgroundColor = parentTitleStatus === 'Replied' ? 'rgba(0, 255, 0, 0.1)' : 'rgba(255, 0, 0, 0.1)';\n  var latestResponse = null;\n  responses.forEach(function (response) {\n    var _latestResponse;\n    if (!latestResponse || (response == null ? void 0 : response.updatedAt) > ((_latestResponse = latestResponse) == null ? void 0 : _latestResponse.updatedAt)) {\n      latestResponse = response;\n    }\n  });\n  return _jsx(TouchableOpacity, {\n    onPress: onPress,\n    children: _jsxs(View, {\n      style: _objectSpread(_objectSpread({}, styles.box), {}, {\n        backgroundColor: backgroundColor\n      }),\n      children: [_jsxs(View, {\n        style: styles.leftBox,\n        children: [_jsx(Text, {\n          style: styles.titleText,\n          children: title\n        }), _jsx(Text, {\n          style: styles.reasonText,\n          children: reason\n        }), _jsxs(Text, {\n          style: styles.messageText,\n          children: [_jsx(Text, {\n            style: {\n              fontWeight: 'bold'\n            },\n            children: \"Description:\"\n          }), \" \", message]\n        }), latestResponse && _jsxs(Text, {\n          style: styles.messageText,\n          children: [_jsx(Text, {\n            style: {\n              fontWeight: 'bold'\n            },\n            children: \"Reply: \"\n          }), _jsx(HTML, {\n            source: {\n              html: latestResponse.message.replace(/<\\/?p>/g, '').replace(/<html>|<\\/html>/g, '')\n            },\n            contentWidth: windowWidth\n          })]\n        })]\n      }), _jsx(View, {\n        style: styles.rightBox,\n        children: _jsx(Text, {\n          style: styles.timestampText,\n          children: getTimeAgo(updatedAt)\n        })\n      })]\n    })\n  });\n};\nvar styles = StyleSheet.create({\n  box: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    borderRadius: 8,\n    padding: 8,\n    marginBottom: 8\n  },\n  leftBox: {\n    flex: 3\n  },\n  rightBox: {\n    flex: 1,\n    alignItems: 'center'\n  },\n  titleText: {\n    fontSize: 18,\n    fontWeight: 'bold'\n  },\n  reasonText: {\n    fontSize: 14,\n    color: '#888888'\n  },\n  messageText: {\n    fontSize: 14,\n    marginTop: 5,\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  timestampText: {\n    fontSize: 12,\n    color: '#888888'\n  }\n});\nexport default BoxItem;","map":{"version":3,"names":["React","TouchableOpacity","StyleSheet","Text","View","useWindowDimensions","getTimeAgo","HTML","jsx","_jsx","jsxs","_jsxs","BoxItem","_ref","onPress","parentTitleStatus","title","reason","message","updatedAt","responses","windowWidth","width","backgroundColor","latestResponse","forEach","response","_latestResponse","children","style","_objectSpread","styles","box","leftBox","titleText","reasonText","messageText","fontWeight","source","html","replace","contentWidth","rightBox","timestampText","create","flexDirection","alignItems","borderRadius","padding","marginBottom","flex","fontSize","color","marginTop","justifyContent"],"sources":["/Users/limzhongzhi/WebstormProjects/PropertyGo/frontend/mobile/components/BoxItem.js"],"sourcesContent":["import React from 'react';\nimport { TouchableOpacity, StyleSheet, Text, View, useWindowDimensions } from 'react-native';\nimport { getTimeAgo } from '../services/CalculateTimeAgo';\nimport HTML from 'react-native-render-html';\n\nconst BoxItem = ({ onPress, parentTitleStatus, title, reason, message, updatedAt, responses }) => {\n    \n    const windowWidth = useWindowDimensions().width;\n    const backgroundColor =\n        parentTitleStatus === 'Replied'\n            ? 'rgba(0, 255, 0, 0.1)'\n            : 'rgba(255, 0, 0, 0.1)';\n\n    let latestResponse = null;\n\n    // console.log(responses)\n\n    // Iterate through the responses to find the latest one\n    responses.forEach((response) => {\n        if (!latestResponse || response?.updatedAt > latestResponse?.updatedAt) {\n            latestResponse = response;\n        }\n    });\n\n    return (\n        <TouchableOpacity onPress={onPress}>\n            <View style={{ ...styles.box, backgroundColor }}>\n                <View style={styles.leftBox}>\n                    <Text style={styles.titleText}>{title}</Text>\n                    <Text style={styles.reasonText}>{reason}</Text>\n                    <Text style={styles.messageText}><Text style={{ fontWeight: 'bold' }}>Description:</Text> {message}</Text>\n                    {latestResponse && (\n                        <Text style={styles.messageText}><Text style={{ fontWeight: 'bold' }}>Reply: </Text><HTML source={{ html: latestResponse.message.replace(/<\\/?p>/g, '').replace(/<html>|<\\/html>/g, '')}} contentWidth={windowWidth}/></Text>\n                    )}\n                </View>\n                <View style={styles.rightBox}>\n                    <Text style={styles.timestampText}>{getTimeAgo(updatedAt)}</Text>\n                </View>\n            </View>\n        </TouchableOpacity>\n    );\n};\n\nconst styles = StyleSheet.create({\n    box: {\n        flexDirection: 'row',\n        alignItems: 'center',\n        borderRadius: 8,\n        padding: 8,\n        marginBottom: 8,\n    },\n    leftBox: {\n        flex: 3,\n    },\n    rightBox: {\n        flex: 1,\n        alignItems: 'center',\n    },\n    titleText: {\n        fontSize: 18,\n        fontWeight: 'bold',\n    },\n    reasonText: {\n        fontSize: 14,\n        color: '#888888',\n    },\n    messageText: {\n        fontSize: 14,\n        marginTop: 5,\n        flex: 1,\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    timestampText: {\n        fontSize: 12,\n        color: '#888888',\n    },\n});\n\nexport default BoxItem;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}