{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport * as FileSystem from \"expo-file-system\";\nimport * as Sharing from 'expo-sharing';\nimport { openBrowserAsync } from \"expo-web-browser\";\nimport { AuthContext } from \"../../AuthContext\";\nimport DropDownPicker from 'react-native-dropdown-picker';\nimport { DocumentSelector } from \"../../components/DocumentSelector\";\nimport { BASE_URL, fetchDocuments, fetchFolders } from \"../../utils/documentApi\";\nimport { AntDesign, Entypo, FontAwesome, MaterialIcons } from '@expo/vector-icons';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nvar FileSaver;\nif (Platform.OS === \"web\") {\n  FileSaver = require(\"file-saver\").default;\n}\nvar _Dimensions$get = Dimensions.get(\"window\"),\n  width = _Dimensions$get.width;\nfunction UploadScreen(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    prevDocuments = _useState2[0],\n    setPrevDocuments = _useState2[1];\n  var _useState3 = useState(\"\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    searchQuery = _useState4[0],\n    setSearchQuery = _useState4[1];\n  var _useState5 = useState(\"\"),\n    _useState6 = _slicedToArray(_useState5, 2),\n    selectedFolder = _useState6[0],\n    setSelectedFolder = _useState6[1];\n  var _useState7 = useState([]),\n    _useState8 = _slicedToArray(_useState7, 2),\n    folders = _useState8[0],\n    setFolders = _useState8[1];\n  var _useState9 = useState(false),\n    _useState10 = _slicedToArray(_useState9, 2),\n    newFolderModalOpen = _useState10[0],\n    setNewFolderModalOpen = _useState10[1];\n  var _useState11 = useState(\"\"),\n    _useState12 = _slicedToArray(_useState11, 2),\n    newFolderName = _useState12[0],\n    setNewFolderName = _useState12[1];\n  var _useState13 = useState(1),\n    _useState14 = _slicedToArray(_useState13, 2),\n    defaultFolderId = _useState14[0],\n    setDefaultFolderId = _useState14[1];\n  var _useState15 = useState(prevDocuments),\n    _useState16 = _slicedToArray(_useState15, 2),\n    filteredDocs = _useState16[0],\n    setFilteredDocs = _useState16[1];\n  var _useContext = useContext(AuthContext),\n    user = _useContext.user;\n  var USER_ID = user.user.userId;\n  var _useState17 = useState(false),\n    _useState18 = _slicedToArray(_useState17, 2),\n    isOpen = _useState18[0],\n    setIsOpen = _useState18[1];\n  useEffect(function () {\n    fetchData().then(function (r) {\n      return console.log(\"Fetch Data successful.\");\n    });\n  }, []);\n  useEffect(function () {\n    var docs = prevDocuments.filter(function (doc) {\n      console.log(\"prevDocuments:\", prevDocuments);\n      console.log(\"selectedFolder:\", selectedFolder);\n      console.log(\"searchQuery:\", searchQuery);\n      var matchesFolder = selectedFolder ? doc.folderId.toString() === selectedFolder.toString() : true;\n      var matchesSearch = doc.title.toLowerCase().includes((searchQuery || \"\").toLowerCase());\n      return matchesFolder && matchesSearch;\n    });\n    setFilteredDocs(docs);\n  }, [searchQuery, selectedFolder]);\n  useEffect(function () {\n    console.log(prevDocuments);\n    setPrevDocuments(prevDocuments);\n  }, [prevDocuments]);\n  useEffect(function () {\n    console.log(filteredDocs);\n    setFilteredDocs(filteredDocs);\n  }, [filteredDocs]);\n  var fetchData = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      try {\n        var documents = yield fetchDocuments(USER_ID);\n        var _folders = yield fetchFolders(USER_ID);\n        setFolders(_folders);\n        setPrevDocuments(documents);\n        setFilteredDocs(documents);\n        setSelectedFolder(defaultFolderId.toString());\n        console.log(user);\n      } catch (error) {\n        console.error('Error fetching data:', error);\n      }\n    });\n    return function fetchData() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var downloadPDF = function () {\n    var _ref3 = _asyncToGenerator(function* (document) {\n      var response = yield fetch(`${BASE_URL}/user/documents/${document.documentId}/data`);\n      console.log(response);\n      var result = yield response.json();\n      console.log(result);\n      if (Platform.OS === \"web\") {\n        var byteCharacters = atob(result.document);\n        var byteArrays = [];\n        for (var offset = 0; offset < byteCharacters.length; offset += 512) {\n          var slice = byteCharacters.slice(offset, offset + 512);\n          var byteNumbers = new Array(slice.length);\n          for (var i = 0; i < slice.length; i++) {\n            byteNumbers[i] = slice.charCodeAt(i);\n          }\n          var byteArray = new Uint8Array(byteNumbers);\n          byteArrays.push(byteArray);\n        }\n        var blob = new Blob(byteArrays, {\n          type: \"application/pdf\"\n        });\n        var url = URL.createObjectURL(blob);\n        yield openBrowserAsync(url);\n        FileSaver.saveAs(blob, document.name);\n        URL.revokeObjectURL(url);\n      } else {\n        try {\n          var fileName = (FileSystem.documentDirectory + result.title).replace(/\\s/g, '_');\n          console.log('Filename:', fileName);\n          yield FileSystem.writeAsStringAsync(fileName, result.document, {\n            encoding: FileSystem.EncodingType.Base64\n          });\n          var isAvailable = yield Sharing.isAvailableAsync();\n          if (!isAvailable) {\n            alert(`Uh oh, sharing isn't available on your platform`);\n            return;\n          }\n          if (fileName) {\n            alert(\"Downloaded to \" + fileName);\n            yield Sharing.shareAsync(fileName);\n          } else {\n            alert(\"Failed to download PDF\");\n          }\n        } catch (error) {\n          console.error(\"Error opening the file\", error);\n          alert(\"Failed to open PDF\");\n        }\n      }\n    });\n    return function downloadPDF(_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var createNewFolder = function () {\n    var _ref4 = _asyncToGenerator(function* () {\n      try {\n        var response = yield fetch(`${BASE_URL}/user/folders/create/${USER_ID}`, {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            folderTitle: newFolderName\n          })\n        });\n        if (response.ok) {\n          console.log(\"Folder created successfully\");\n        } else {\n          console.log(\"Error creating folder\");\n        }\n        setNewFolderModalOpen(false);\n        var _folders2 = yield fetchFolders(USER_ID);\n        setFolders(_folders2);\n      } catch (error) {\n        console.error(error);\n      }\n    });\n    return function createNewFolder() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  var removeDocumentFromServer = function () {\n    var _ref5 = _asyncToGenerator(function* (document) {\n      try {\n        var url = `${BASE_URL}/user/documents/${document.documentId}`;\n        var response = yield fetch(url, {\n          method: \"DELETE\"\n        });\n        if (response.ok) {\n          console.log(\"Document deleted successfully\");\n          yield fetchData();\n        } else {\n          console.log(\"Error deleting document\");\n        }\n      } catch (error) {\n        console.error(error);\n      }\n    });\n    return function removeDocumentFromServer(_x2) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n  var downloadDocumentFromServer = function downloadDocumentFromServer(document) {\n    downloadPDF(document);\n  };\n  var getFolderTitle = function getFolderTitle(folderId) {\n    var foundFolder = folders.find(function (folder) {\n      return folder.folderId === folderId;\n    });\n    return foundFolder ? foundFolder.title : \"\";\n  };\n  var renderDocumentListItem = function renderDocumentListItem(_ref6) {\n    var item = _ref6.item;\n    return _jsxs(View, {\n      style: styles.documentItem,\n      children: [_jsx(Text, {\n        style: styles.documentText,\n        children: item.title\n      }), _jsxs(View, {\n        children: [_jsx(Text, {\n          style: styles.descriptionText,\n          children: \"Description: \"\n        }), _jsx(Text, {\n          style: styles.documentText,\n          children: item.description\n        })]\n      }), _jsxs(View, {\n        style: {\n          flexDirection: \"row\"\n        },\n        children: [_jsx(Text, {\n          style: styles.documentText,\n          children: \"Transaction ID: \"\n        }), _jsx(Text, {\n          style: styles.documentText,\n          children: item.transactionId === null ? \"None\" : item.transactionId\n        })]\n      }), _jsxs(View, {\n        style: {\n          flexDirection: \"row\"\n        },\n        children: [_jsx(Text, {\n          style: styles.documentText,\n          children: \"Partner Application ID: \"\n        }), _jsx(Text, {\n          style: styles.documentText,\n          children: item.partnerApplicationId === null ? \"None\" : item.partnerApplicationId\n        })]\n      }), _jsxs(View, {\n        style: {\n          flexDirection: \"row\"\n        },\n        children: [_jsx(Text, {\n          style: styles.documentText,\n          children: \"Folder: \"\n        }), _jsx(Text, {\n          style: styles.documentText,\n          children: getFolderTitle(item.folderId)\n        })]\n      }), _jsx(Text, {\n        children: \"\\xA0\"\n      }), _jsxs(View, {\n        style: {\n          flexDirection: \"row\"\n        },\n        children: [_jsx(TouchableOpacity, {\n          onPress: function onPress() {\n            return removeDocumentFromServer(item);\n          },\n          style: {\n            borderWidth: 1,\n            borderColor: 'black',\n            borderRadius: 10,\n            padding: 5,\n            alignItems: 'center',\n            justifyContent: 'center'\n          },\n          children: _jsx(FontAwesome, {\n            name: \"remove\",\n            size: 25,\n            color: \"black\"\n          })\n        }), _jsx(Text, {\n          children: \"\\xA0 \\xA0\"\n        }), _jsx(TouchableOpacity, {\n          onPress: function onPress() {\n            return downloadDocumentFromServer(item);\n          },\n          style: {\n            borderWidth: 1,\n            borderColor: 'black',\n            borderRadius: 10,\n            padding: 5,\n            alignItems: 'center',\n            justifyContent: 'center'\n          },\n          children: _jsx(Entypo, {\n            name: \"download\",\n            size: 24,\n            color: \"black\"\n          })\n        })]\n      })]\n    });\n  };\n  return _jsxs(SafeAreaView, {\n    style: styles.container,\n    children: [_jsx(View, {\n      style: styles.documentListContainer,\n      children: _jsx(DocumentSelector, {\n        documentFetch: fetchData,\n        folderState: folders,\n        isTransaction: true\n      })\n    }), _jsx(Text, {\n      children: \" \\xA0 \\xA0\"\n    }), _jsx(View, {\n      style: styles.documentListContainer,\n      children: _jsx(FlatList, {\n        ListHeaderComponent: _jsxs(_Fragment, {\n          children: [_jsx(Text, {\n            style: styles.detailText,\n            children: \"Previously Uploaded Documents: \"\n          }), _jsxs(View, {\n            style: styles.documentListContainer,\n            children: [_jsx(TextInput, {\n              style: styles.searchBar,\n              placeholder: \"Search documents...\",\n              value: searchQuery,\n              onChangeText: setSearchQuery\n            }), _jsx(Text, {\n              children: \" Select your Folder Below: \"\n            }), _jsx(View, {\n              style: {\n                zIndex: 5100\n              },\n              children: _jsx(DropDownPicker, {\n                listMode: \"MODAL\",\n                open: isOpen,\n                setOpen: setIsOpen,\n                value: selectedFolder,\n                setValue: setSelectedFolder,\n                items: folders.map(function (folder) {\n                  return {\n                    label: folder.title,\n                    value: folder.folderId\n                  };\n                }),\n                containerStyle: {\n                  height: 40\n                },\n                style: {\n                  backgroundColor: '#fafafa'\n                },\n                dropDownStyle: {\n                  backgroundColor: '#fafafa',\n                  zIndex: 5000\n                }\n              })\n            }), _jsx(Text, {\n              children: \"\\xA0\"\n            }), _jsx(View, {\n              style: styles.iconContainer,\n              children: _jsx(TouchableOpacity, {\n                onPress: function onPress() {\n                  return setNewFolderModalOpen(true);\n                },\n                children: _jsx(AntDesign, {\n                  name: \"addfolder\",\n                  size: 24,\n                  color: \"black\"\n                })\n              })\n            }), newFolderModalOpen && _jsx(Modal, {\n              animationType: \"slide\",\n              transparent: true,\n              visible: newFolderModalOpen,\n              children: _jsx(View, {\n                style: styles.centeredView,\n                children: _jsxs(View, {\n                  style: styles.modalView,\n                  children: [_jsx(Text, {\n                    style: styles.descriptionText,\n                    children: \" Folder Creation Section: \"\n                  }), _jsx(TextInput, {\n                    placeholder: \"New folder name\",\n                    value: newFolderName,\n                    onChangeText: setNewFolderName,\n                    style: styles.modalTextInput,\n                    placeholderTextColor: \"#888\"\n                  }), _jsx(TouchableOpacity, {\n                    style: styles.button,\n                    onPress: createNewFolder,\n                    children: _jsx(Text, {\n                      style: styles.buttonText,\n                      children: \"Create Folder\"\n                    })\n                  }), _jsx(TouchableOpacity, {\n                    style: styles.cancelButton,\n                    onPress: function onPress() {\n                      return setNewFolderModalOpen(false);\n                    },\n                    children: _jsx(Text, {\n                      style: styles.buttonText,\n                      children: \"Cancel\"\n                    })\n                  })]\n                })\n              })\n            })]\n          })]\n        }),\n        data: filteredDocs,\n        renderItem: renderDocumentListItem,\n        ListEmptyComponent: function ListEmptyComponent() {\n          return _jsxs(View, {\n            style: styles.emptyListContainer,\n            children: [_jsx(MaterialIcons, {\n              name: \"description\",\n              size: 40,\n              color: \"lightgray\"\n            }), _jsx(Text, {\n              style: styles.emptyListText,\n              children: \"Your previous documents would appear here.\"\n            })]\n          });\n        },\n        keyExtractor: function keyExtractor(item, index) {\n          return item.id ? item.id.toString() : index.toString();\n        },\n        ListFooterComponent: _jsx(_Fragment, {\n          children: _jsxs(Text, {\n            style: styles.graytext,\n            children: [\"Welcome, \", user.user.name, \", you are the #\", USER_ID, \" user!\"]\n          })\n        })\n      })\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    padding: '10%',\n    backgroundColor: \"#fff\",\n    flex: 1,\n    paddingHorizontal: 10\n  },\n  headerText: {\n    fontSize: 10,\n    marginBottom: \"2%\",\n    textAlign: \"center\"\n  },\n  searchBar: {\n    height: '25%',\n    borderWidth: 1,\n    borderColor: \"#ccc\",\n    borderRadius: 10,\n    paddingHorizontal: 2,\n    marginVertical: 2\n  },\n  iconContainer: {\n    alignItems: 'flex-start',\n    justifyContent: 'space-evenly',\n    flexDirection: \"row\",\n    borderColor: '#000',\n    borderWidth: 1,\n    borderRadius: 15,\n    padding: 5\n  },\n  descriptionContainer: {\n    marginVertical: '4%'\n  },\n  descriptionInput: {\n    height: 30,\n    borderColor: \"gray\",\n    borderWidth: 1,\n    borderRadius: 5,\n    marginVertical: `2%`,\n    padding: `2%`\n  },\n  downloadButton: {\n    backgroundColor: \"#ffffff\",\n    borderColor: \"#007AFF\",\n    borderWidth: 1,\n    paddingVertical: 10,\n    paddingHorizontal: 20,\n    borderRadius: 12,\n    alignItems: 'center',\n    justifyContent: 'center',\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.1,\n    shadowRadius: 4\n  },\n  downloadButtonText: {\n    color: \"#007AFF\",\n    fontWeight: \"600\",\n    fontSize: 16\n  },\n  detailText: {\n    fontSize: 12,\n    marginBottom: \"2%\",\n    fontWeight: \"bold\"\n  },\n  documentListContainer: {\n    borderWidth: 1,\n    borderColor: \"#ddd\",\n    borderRadius: 5,\n    padding: \"3%\",\n    paddingTop: \"3.5%\",\n    flex: 1\n  },\n  documentItem: {\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    padding: \"1.5%\",\n    marginBottom: \"1%\",\n    backgroundColor: \"#FFFFFF\",\n    borderRadius: 10,\n    width: \"100%\",\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 1\n    },\n    shadowOpacity: 0.22,\n    shadowRadius: 2.22\n  },\n  documentText: {\n    fontSize: 16,\n    fontWeight: '500',\n    color: '#333'\n  },\n  descriptionText: {\n    fontSize: 14,\n    fontStyle: \"italic\",\n    fontWeight: \"bold\"\n  },\n  centeredView: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'rgba(0,0,0,0.5)'\n  },\n  modalView: {\n    width: '80%',\n    backgroundColor: 'white',\n    borderRadius: 10,\n    padding: 35,\n    alignItems: 'center',\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5\n  },\n  modalTextInput: {\n    width: '100%',\n    height: 40,\n    borderColor: '#ccc',\n    borderWidth: 1,\n    borderRadius: 8,\n    paddingHorizontal: 10,\n    marginBottom: 20\n  },\n  button: {\n    backgroundColor: '#1a73e8',\n    padding: 10,\n    borderRadius: 5,\n    width: '100%',\n    alignItems: 'center',\n    marginVertical: 5\n  },\n  cancelButton: {\n    backgroundColor: '#ccc',\n    padding: 10,\n    borderRadius: 5,\n    width: '100%',\n    alignItems: 'center',\n    marginVertical: 5\n  },\n  buttonText: {\n    color: 'white',\n    fontWeight: '600'\n  },\n  picker: {\n    fontSize: 12,\n    paddingVertical: \"3%\",\n    paddingHorizontal: \"2.5%\",\n    borderWidth: 1,\n    borderColor: \"gray\",\n    borderRadius: 5,\n    backgroundColor: \"white\",\n    color: \"black\"\n  },\n  graytext: {\n    fontSize: 12,\n    color: \"#808080\"\n  },\n  emptyListContainer: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 20\n  },\n  emptyListText: {\n    fontSize: 18,\n    color: 'gray',\n    textAlign: 'center',\n    marginTop: 10\n  },\n  undefined: undefined\n});\nexport default UploadScreen;","map":{"version":3,"names":["React","useContext","useEffect","useState","Dimensions","FlatList","Modal","Platform","SafeAreaView","StyleSheet","Text","TextInput","TouchableOpacity","View","FileSystem","Sharing","openBrowserAsync","AuthContext","DropDownPicker","DocumentSelector","BASE_URL","fetchDocuments","fetchFolders","AntDesign","Entypo","FontAwesome","MaterialIcons","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","FileSaver","OS","require","default","_Dimensions$get","get","width","UploadScreen","_ref","navigation","_useState","_useState2","_slicedToArray","prevDocuments","setPrevDocuments","_useState3","_useState4","searchQuery","setSearchQuery","_useState5","_useState6","selectedFolder","setSelectedFolder","_useState7","_useState8","folders","setFolders","_useState9","_useState10","newFolderModalOpen","setNewFolderModalOpen","_useState11","_useState12","newFolderName","setNewFolderName","_useState13","_useState14","defaultFolderId","setDefaultFolderId","_useState15","_useState16","filteredDocs","setFilteredDocs","_useContext","user","USER_ID","userId","_useState17","_useState18","isOpen","setIsOpen","fetchData","then","r","console","log","docs","filter","doc","matchesFolder","folderId","toString","matchesSearch","title","toLowerCase","includes","_ref2","_asyncToGenerator","documents","error","apply","arguments","downloadPDF","_ref3","document","response","fetch","documentId","result","json","byteCharacters","atob","byteArrays","offset","length","slice","byteNumbers","Array","i","charCodeAt","byteArray","Uint8Array","push","blob","Blob","type","url","URL","createObjectURL","saveAs","name","revokeObjectURL","fileName","documentDirectory","replace","writeAsStringAsync","encoding","EncodingType","Base64","isAvailable","isAvailableAsync","alert","shareAsync","_x","createNewFolder","_ref4","method","headers","body","JSON","stringify","folderTitle","ok","removeDocumentFromServer","_ref5","_x2","downloadDocumentFromServer","getFolderTitle","foundFolder","find","folder","renderDocumentListItem","_ref6","item","style","styles","documentItem","children","documentText","descriptionText","description","flexDirection","transactionId","partnerApplicationId","onPress","borderWidth","borderColor","borderRadius","padding","alignItems","justifyContent","size","color","container","documentListContainer","documentFetch","folderState","isTransaction","ListHeaderComponent","detailText","searchBar","placeholder","value","onChangeText","zIndex","listMode","open","setOpen","setValue","items","map","label","containerStyle","height","backgroundColor","dropDownStyle","iconContainer","animationType","transparent","visible","centeredView","modalView","modalTextInput","placeholderTextColor","button","buttonText","cancelButton","data","renderItem","ListEmptyComponent","emptyListContainer","emptyListText","keyExtractor","index","id","ListFooterComponent","graytext","create","flex","paddingHorizontal","headerText","fontSize","marginBottom","textAlign","marginVertical","descriptionContainer","descriptionInput","downloadButton","paddingVertical","shadowColor","shadowOffset","shadowOpacity","shadowRadius","downloadButtonText","fontWeight","paddingTop","fontStyle","elevation","picker","marginTop","undefined"],"sources":["/Users/kathleen/Documents/IS4103Capstone/PropertyGo/frontend/mobile/screens/sideNavigatorBar/Documents.js"],"sourcesContent":["// I am going to start refactoring this thing.\n// God damn is the structure soooo bad.\n\n/*** IMPORTS *****/\nimport React, {useContext, useEffect, useState} from \"react\";\nimport {\n    Dimensions,\n    FlatList,\n    Modal,\n    Platform,\n    SafeAreaView,\n    StyleSheet,\n    Text,\n    TextInput,\n    TouchableOpacity,\n    View,\n} from \"react-native\";\nimport * as FileSystem from \"expo-file-system\";\nimport * as Sharing from 'expo-sharing';\nimport {openBrowserAsync} from \"expo-web-browser\";\nimport {AuthContext} from \"../../AuthContext\";\nimport DropDownPicker from 'react-native-dropdown-picker';\nimport {DocumentSelector} from \"../../components/DocumentSelector\";\nimport {BASE_URL, fetchDocuments, fetchFolders} from \"../../utils/documentApi\";\n\n// ICON IMPORTS\nimport {AntDesign, Entypo, FontAwesome, MaterialIcons} from '@expo/vector-icons';\n\n//Conditional FileSaver import.\nlet FileSaver;\nif (Platform.OS === \"web\") {\n    FileSaver = require(\"file-saver\").default;\n}\n/*******************************************/\n\n/* CONSTANTS FOR THE WHOLE PAGE */\nconst {width} = Dimensions.get(\"window\");\n\n// This is getting a bit cancer having to go to multiple files to change it.\n\nfunction UploadScreen({navigation}) {\n    const [prevDocuments, setPrevDocuments] = useState([]); // This is suppose to be the list of documents that you have uploaded previously.\n    const [searchQuery, setSearchQuery] = useState(\"\"); // This is for the search bar.\n    const [selectedFolder, setSelectedFolder] = useState(\"\"); // Add state for selected folder\n    const [folders, setFolders] = useState([]); // Add state for folders list\n    const [newFolderModalOpen, setNewFolderModalOpen] = useState(false); // Modal boolean for folder creation\n    const [newFolderName, setNewFolderName] = useState(\"\"); // New folder name\n    const [defaultFolderId, setDefaultFolderId] = useState(1); // Default folder id\n    const [filteredDocs, setFilteredDocs] = useState(prevDocuments); // Filtered documents\n    const {user} = useContext(AuthContext);\n    const USER_ID = user.user.userId;\n    const [isOpen, setIsOpen] = useState(false);\n\n    // USE-EFFECT HOOKS //\n    // Fetch the previous documents from the server.\n    useEffect(() => {\n        fetchData().then(r => console.log(\"Fetch Data successful.\"));\n    }, []);\n\n    useEffect(() => {\n        const docs = prevDocuments.filter((doc) => {\n            console.log(\"prevDocuments:\", prevDocuments);\n            console.log(\"selectedFolder:\", selectedFolder);\n            console.log(\"searchQuery:\", searchQuery);\n            const matchesFolder = selectedFolder\n                ? doc.folderId.toString() === selectedFolder.toString()\n                : true;\n            const matchesSearch = doc.title\n                .toLowerCase()\n                .includes((searchQuery || \"\").toLowerCase());\n            return matchesFolder && matchesSearch;\n        });\n        setFilteredDocs(docs);\n    }, [searchQuery, selectedFolder]);\n\n    // Weird hack so that useState works properly.\n    useEffect(() => {\n        console.log(prevDocuments);\n        setPrevDocuments(prevDocuments);\n    }, [prevDocuments]);\n\n    useEffect(() => {\n        console.log(filteredDocs);\n        setFilteredDocs(filteredDocs);\n    }, [filteredDocs]);\n    // END OF USE-EFFECT HOOKS //\n\n\n    // START OF BUSINESS FUNCTIONS //\n    const fetchData = async () => {\n        try {\n            const documents = await fetchDocuments(USER_ID);\n            const folders = await fetchFolders(USER_ID);\n            setFolders(folders);\n            setPrevDocuments(documents);\n            setFilteredDocs(documents);\n            setSelectedFolder(defaultFolderId.toString());\n            console.log(user);\n        } catch (error) {\n            console.error('Error fetching data:', error);\n        }\n    };\n\n    const downloadPDF = async (document) => {\n        const response = await fetch(\n            `${BASE_URL}/user/documents/${document.documentId}/data`\n        );\n        console.log(response)\n        const result = await response.json();\n        console.log(result)\n        // The web version is kinda not needed.\n        if (Platform.OS === \"web\") {\n            const byteCharacters = atob(result.document); // Decode the Base64 string\n            const byteArrays = [];\n            for (let offset = 0; offset < byteCharacters.length; offset += 512) {\n                const slice = byteCharacters.slice(offset, offset + 512);\n                const byteNumbers = new Array(slice.length);\n                for (let i = 0; i < slice.length; i++) {\n                    byteNumbers[i] = slice.charCodeAt(i);\n                }\n                const byteArray = new Uint8Array(byteNumbers);\n                byteArrays.push(byteArray);\n            }\n            const blob = new Blob(byteArrays, {type: \"application/pdf\"});\n            const url = URL.createObjectURL(blob);\n            await openBrowserAsync(url); // Assuming this opens the URL in a new browser tab/window\n            FileSaver.saveAs(blob, document.name); // Assuming document.name is the desired name of the downloaded file\n            URL.revokeObjectURL(url);\n        } else {\n            try {\n                // Slight issue opening certain PDF files.\n                // Native FileSystem logic\n\n                //Filename has \" \" = Error and fuck you.\n                const fileName = (FileSystem.documentDirectory + result.title).replace(/\\s/g, '_');\n                console.log('Filename:', fileName);\n\n                await FileSystem.writeAsStringAsync(\n                    fileName,\n                    result.document,\n                    {encoding: FileSystem.EncodingType.Base64}\n                );\n\n                const isAvailable = await Sharing.isAvailableAsync();\n                if (!isAvailable) {\n                    alert(`Uh oh, sharing isn't available on your platform`);\n                    return;\n                }\n\n                if (fileName) {\n                    alert(\"Downloaded to \" + fileName);\n                    await Sharing.shareAsync(fileName);\n                } else {\n                    alert(\"Failed to download PDF\");\n                }\n            } catch (error) {\n                console.error(\"Error opening the file\", error);\n                alert(\"Failed to open PDF\");\n            }\n        }\n    };\n\n    // Function to create new folder\n    const createNewFolder = async () => {\n        try {\n            const response = await fetch(\n                `${BASE_URL}/user/folders/create/${USER_ID}`,\n                {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\",\n                    },\n                    body: JSON.stringify({folderTitle: newFolderName}),\n                }\n            );\n            if (response.ok) {\n                console.log(\"Folder created successfully\");\n            } else {\n                console.log(\"Error creating folder\");\n            }\n            setNewFolderModalOpen(false);\n            const folders = await fetchFolders(USER_ID);\n            setFolders(folders);\n        } catch (error) {\n            console.error(error);\n        }\n    };\n\n    const removeDocumentFromServer = async (document) => {\n        try {\n            const url = `${BASE_URL}/user/documents/${document.documentId}`;\n            const response = await fetch(url, {\n                method: \"DELETE\",\n            });\n            if (response.ok) {\n                console.log(\"Document deleted successfully\");\n                await fetchData();\n            } else {\n                console.log(\"Error deleting document\");\n            }\n        } catch (error) {\n            console.error(error);\n        }\n    };\n\n    const downloadDocumentFromServer = (document) => {\n        downloadPDF(document);\n    };\n\n    const getFolderTitle = (folderId) => {\n        const foundFolder = folders.find((folder) => folder.folderId === folderId);\n        return foundFolder ? foundFolder.title : \"\";\n    };\n\n    // END OF FUNCTIONS, MOVING INTO RENDERED FUNCTION COMPONENTS. //\n\n    // This is for the Previously Uploaded Documents\n    const renderDocumentListItem = ({item}) => (\n        <View style={styles.documentItem}>\n            <Text style={styles.documentText}>{item.title}</Text>\n            <View>\n                <Text style={styles.descriptionText}>Description: </Text>\n                <Text style={styles.documentText}>{item.description}</Text>\n            </View>\n            <View style={{flexDirection: \"row\"}}>\n                <Text style={styles.documentText}>Transaction ID: </Text>\n                <Text style={styles.documentText}>{item.transactionId === null ? \"None\" : item.transactionId}</Text>\n            </View>\n            <View style={{flexDirection: \"row\"}}>\n                <Text style={styles.documentText}>Partner Application ID: </Text>\n                <Text style={styles.documentText}>{item.partnerApplicationId === null ? \"None\" : item.partnerApplicationId}</Text>\n            </View>\n            <View style={{flexDirection: \"row\"}}>\n                <Text style={styles.documentText}>Folder: </Text>\n                <Text style={styles.documentText}>{getFolderTitle(item.folderId)}</Text>\n            </View>\n            <Text>&nbsp;</Text>\n            <View style={{flexDirection: \"row\"}}>\n                <TouchableOpacity\n                    onPress={() => removeDocumentFromServer(item)}\n                    style={{\n                        borderWidth: 1, // set border width\n                        borderColor: 'black', // set border color\n                        borderRadius: 10, // set border radius\n                        padding: 5, // set padding\n                        alignItems: 'center', // center the icon horizontally\n                        justifyContent: 'center', // center the icon vertically\n                    }}>\n                    <FontAwesome name=\"remove\" size={25} color=\"black\"/>\n                </TouchableOpacity>\n                <Text>&nbsp; &nbsp;</Text>\n                <TouchableOpacity\n                    onPress={() => downloadDocumentFromServer(item)}\n                    style={{\n                        borderWidth: 1, // set border width\n                        borderColor: 'black', // set border color\n                        borderRadius: 10, // set border radius\n                        padding: 5, // set padding\n                        alignItems: 'center', // center the icon horizontally\n                        justifyContent: 'center', // center the icon vertically\n                    }}\n                >\n                    <Entypo name=\"download\" size={24} color=\"black\"/>\n                </TouchableOpacity>\n            </View>\n        </View>\n    );\n\n    // BEGIN OF ACTUAL HTML RENDERING //\n    // Rendering everything within a single FlatList Component.\n    return (\n        <SafeAreaView style={styles.container}>\n            {/* Wrap the FlatList in a View with border styles */}\n            <View style={styles.documentListContainer}>\n                <DocumentSelector documentFetch={fetchData} folderState={folders} isTransaction={true}/>\n            </View>\n            <Text> &nbsp; &nbsp;</Text>\n            <View style={styles.documentListContainer}>\n                <FlatList\n                    ListHeaderComponent={\n                        <>\n                            <Text style={styles.detailText}>Previously Uploaded Documents: </Text>\n                            <View style={styles.documentListContainer}>\n                                <TextInput\n                                    style={styles.searchBar}\n                                    placeholder=\"Search documents...\"\n                                    value={searchQuery}\n                                    onChangeText={setSearchQuery}\n                                />\n                                <Text> Select your Folder Below: </Text>\n                                <View style={{zIndex: 5100}}>\n                                    <DropDownPicker\n                                        listMode={\"MODAL\"}\n                                        open={isOpen}\n                                        setOpen={setIsOpen}\n                                        value={selectedFolder}\n                                        setValue={setSelectedFolder}\n                                        items={folders.map(folder => ({label: folder.title, value: folder.folderId}))}\n                                        containerStyle={{height: 40}}\n                                        style={{backgroundColor: '#fafafa'}}\n                                        dropDownStyle={{backgroundColor: '#fafafa', zIndex: 5000}}\n                                    />\n                                </View>\n                                <Text>&nbsp;</Text>\n                                <View style={styles.iconContainer}>\n                                    <TouchableOpacity\n                                        onPress={() => setNewFolderModalOpen(true)}\n                                    >\n                                        <AntDesign name=\"addfolder\" size={24} color=\"black\"/>\n                                    </TouchableOpacity>\n                                </View>\n                                {newFolderModalOpen && (\n                                    <Modal\n                                        animationType=\"slide\"\n                                        transparent={true}\n                                        visible={newFolderModalOpen}\n                                    >\n                                        <View style={styles.centeredView}>\n                                            <View style={styles.modalView}>\n                                                <Text style={styles.descriptionText}> Folder Creation Section: </Text>\n                                                <TextInput\n                                                    placeholder=\"New folder name\"\n                                                    value={newFolderName}\n                                                    onChangeText={setNewFolderName}\n                                                    style={styles.modalTextInput}\n                                                    placeholderTextColor=\"#888\"\n                                                />\n                                                <TouchableOpacity style={styles.button} onPress={createNewFolder}>\n                                                    <Text style={styles.buttonText}>Create Folder</Text>\n                                                </TouchableOpacity>\n                                                <TouchableOpacity style={styles.cancelButton}\n                                                                  onPress={() => setNewFolderModalOpen(false)}>\n                                                    <Text style={styles.buttonText}>Cancel</Text>\n                                                </TouchableOpacity>\n                                            </View>\n                                        </View>\n                                    </Modal>\n                                )}\n                            </View>\n                        </>\n                    }\n                    data={filteredDocs}\n                    renderItem={renderDocumentListItem}\n                    ListEmptyComponent={() => (\n                        <View style={styles.emptyListContainer}>\n                            <MaterialIcons name=\"description\" size={40} color=\"lightgray\"/>\n                            <Text style={styles.emptyListText}>\n                                Your previous documents would appear here.\n                            </Text>\n                        </View>\n                    )}\n                    keyExtractor={(item, index) =>\n                        item.id ? item.id.toString() : index.toString()\n                    }\n                    ListFooterComponent={\n                        <>\n                            <Text style={styles.graytext}>\n                                Welcome, {user.user.name}, you are the #{USER_ID} user!\n                            </Text>\n                        </>\n                    }\n                />\n            </View>\n        </SafeAreaView>\n    );\n}\n\nconst styles = StyleSheet.create({\n    container: {\n        padding: '10%',\n        backgroundColor: \"#fff\",\n        flex: 1,\n        paddingHorizontal: 10,\n    },\n\n    headerText: {\n        fontSize: 10,\n        marginBottom: \"2%\",\n        textAlign: \"center\",\n    },\n\n    searchBar: {\n        height: '25%', // 'auto' is not a valid value for height in React Native\n        borderWidth: 1,\n        borderColor: \"#ccc\",\n        borderRadius: 10,\n        paddingHorizontal: 2,\n        marginVertical: 2,\n    },\n\n    iconContainer: {\n        alignItems: 'flex-start',\n        justifyContent: 'space-evenly',\n        flexDirection: \"row\",\n        borderColor: '#000',\n        borderWidth: 1,\n        borderRadius: 15,\n        padding: 5,\n    },\n\n    descriptionContainer: {\n        marginVertical: '4%',\n    },\n\n    descriptionInput: {\n        height: 30, // Changed from `1%` to a fixed value\n        borderColor: \"gray\",\n        borderWidth: 1,\n        borderRadius: 5, // Changed from `2%` to a fixed value\n        marginVertical: `2%`,\n        padding: `2%`,\n    },\n\n    downloadButton: {\n        backgroundColor: \"#ffffff\", // White background\n        borderColor: \"#007AFF\", // Blue border\n        borderWidth: 1, // Border width\n        paddingVertical: 10, // Vertical padding\n        paddingHorizontal: 20, // Horizontal padding\n        borderRadius: 12, // Rounded corners\n        alignItems: 'center', // Center text horizontally\n        justifyContent: 'center', // Center text vertically\n        shadowColor: \"#000\", // Shadow color\n        shadowOffset: {\n            width: 0,\n            height: 2, // Shadow position\n        },\n        shadowOpacity: 0.1, // Shadow opacity\n        shadowRadius: 4, // Shadow blurring\n    },\n\n    downloadButtonText: {\n        color: \"#007AFF\", // Blue text\n        fontWeight: \"600\", // Semi-bold text\n        fontSize: 16, // Font size\n    },\n\n\n    detailText: {\n        fontSize: 12,\n        marginBottom: \"2%\",\n        fontWeight: \"bold\",\n    },\n\n    documentListContainer: {\n        borderWidth: 1,\n        borderColor: \"#ddd\",\n        borderRadius: 5, // Changed from `2%` to a fixed value\n        padding: \"3%\",\n        paddingTop: \"3.5%\",\n        flex: 1,\n    },\n\n    documentItem: {\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n        padding: \"1.5%\", // Reduced padding for a more compact look\n        marginBottom: \"1%\", // Reduced margin for a more compact look\n        backgroundColor: \"#FFFFFF\", // Lighter background color for iOS theme\n        borderRadius: 10, // Moderate border radius for a card-like appearance\n        width: \"100%\",\n        shadowColor: \"#000\", // Shadow for a card-like appearance\n        shadowOffset: {\n            width: 0,\n            height: 1,\n        },\n        shadowOpacity: 0.22,\n        shadowRadius: 2.22,\n    },\n\n    documentText: {\n        fontSize: 16, // A size that is readable and maintains hierarchy\n        fontWeight: '500', // Semi-bold to make the text stand out\n        color: '#333', // A shade of black to keep text readable and clean\n    },\n\n    descriptionText: {\n        fontSize: 14, // Changed from `3.5%` to a fixed value\n        fontStyle: \"italic\",\n        fontWeight: \"bold\",\n    },\n\n    centeredView: {\n        flex: 1,\n        justifyContent: 'center',\n        alignItems: 'center',\n        backgroundColor: 'rgba(0,0,0,0.5)', // Semi-transparent background\n    },\n\n    modalView: {\n        width: '80%',\n        backgroundColor: 'white',\n        borderRadius: 10,\n        padding: 35,\n        alignItems: 'center',\n        shadowColor: \"#000\",\n        shadowOffset: {\n            width: 0,\n            height: 2\n        },\n        shadowOpacity: 0.25,\n        shadowRadius: 3.84,\n        elevation: 5,\n    },\n\n    modalTextInput: {\n        width: '100%',\n        height: 40,\n        borderColor: '#ccc',\n        borderWidth: 1,\n        borderRadius: 8,\n        paddingHorizontal: 10, // Text input padding\n        marginBottom: 20, // Margin at the bottom of the input\n    },\n\n    button: {\n        backgroundColor: '#1a73e8', // A pleasant blue tone for the primary button\n        padding: 10,\n        borderRadius: 5,\n        width: '100%',\n        alignItems: 'center',\n        marginVertical: 5, // A little vertical margin for aesthetic spacing\n    },\n    cancelButton: {\n        backgroundColor: '#ccc', // A neutral gray for the cancel button\n        padding: 10,\n        borderRadius: 5,\n        width: '100%',\n        alignItems: 'center',\n        marginVertical: 5, // A little vertical margin for aesthetic spacing\n    },\n    buttonText: {\n        color: 'white',\n        fontWeight: '600', // Semi-bold text\n    },\n\n    picker: {\n        fontSize: 12,\n        paddingVertical: \"3%\",\n        paddingHorizontal: \"2.5%\",\n        borderWidth: 1,\n        borderColor: \"gray\",\n        borderRadius: 5, // Changed from `1%` to a fixed value\n        backgroundColor: \"white\",\n        color: \"black\",\n    },\n\n    graytext: {\n        fontSize: 12, // Changed from `2%` to a fixed value\n        color: \"#808080\",\n    },\n\n    emptyListContainer: {\n        flex: 1,\n        alignItems: 'center',\n        justifyContent: 'center',\n        padding: 20,\n    },\n    emptyListText: {\n        fontSize: 18,\n        color: 'gray',\n        textAlign: 'center',\n        marginTop: 10,\n    }, undefined\n\n});\nexport default UploadScreen;\n"],"mappings":";;AAIA,OAAOA,KAAK,IAAGC,UAAU,EAAEC,SAAS,EAAEC,QAAQ,QAAO,OAAO;AAAC,OAAAC,UAAA;AAAA,OAAAC,QAAA;AAAA,OAAAC,KAAA;AAAA,OAAAC,QAAA;AAAA,OAAAC,YAAA;AAAA,OAAAC,UAAA;AAAA,OAAAC,IAAA;AAAA,OAAAC,SAAA;AAAA,OAAAC,gBAAA;AAAA,OAAAC,IAAA;AAa7D,OAAO,KAAKC,UAAU,MAAM,kBAAkB;AAC9C,OAAO,KAAKC,OAAO,MAAM,cAAc;AACvC,SAAQC,gBAAgB,QAAO,kBAAkB;AACjD,SAAQC,WAAW;AACnB,OAAOC,cAAc,MAAM,8BAA8B;AACzD,SAAQC,gBAAgB;AACxB,SAAQC,QAAQ,EAAEC,cAAc,EAAEC,YAAY;AAG9C,SAAQC,SAAS,EAAEC,MAAM,EAAEC,WAAW,EAAEC,aAAa,QAAO,oBAAoB;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAGjF,IAAIC,SAAS;AACb,IAAI1B,QAAQ,CAAC2B,EAAE,KAAK,KAAK,EAAE;EACvBD,SAAS,GAAGE,OAAO,CAAC,YAAY,CAAC,CAACC,OAAO;AAC7C;AAIA,IAAAC,eAAA,GAAgBjC,UAAU,CAACkC,GAAG,CAAC,QAAQ,CAAC;EAAjCC,KAAK,GAAAF,eAAA,CAALE,KAAK;AAIZ,SAASC,YAAYA,CAAAC,IAAA,EAAe;EAAA,IAAbC,UAAU,GAAAD,IAAA,CAAVC,UAAU;EAC7B,IAAAC,SAAA,GAA0CxC,QAAQ,CAAC,EAAE,CAAC;IAAAyC,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAA/CG,aAAa,GAAAF,UAAA;IAAEG,gBAAgB,GAAAH,UAAA;EACtC,IAAAI,UAAA,GAAsC7C,QAAQ,CAAC,EAAE,CAAC;IAAA8C,UAAA,GAAAJ,cAAA,CAAAG,UAAA;IAA3CE,WAAW,GAAAD,UAAA;IAAEE,cAAc,GAAAF,UAAA;EAClC,IAAAG,UAAA,GAA4CjD,QAAQ,CAAC,EAAE,CAAC;IAAAkD,UAAA,GAAAR,cAAA,CAAAO,UAAA;IAAjDE,cAAc,GAAAD,UAAA;IAAEE,iBAAiB,GAAAF,UAAA;EACxC,IAAAG,UAAA,GAA8BrD,QAAQ,CAAC,EAAE,CAAC;IAAAsD,UAAA,GAAAZ,cAAA,CAAAW,UAAA;IAAnCE,OAAO,GAAAD,UAAA;IAAEE,UAAU,GAAAF,UAAA;EAC1B,IAAAG,UAAA,GAAoDzD,QAAQ,CAAC,KAAK,CAAC;IAAA0D,WAAA,GAAAhB,cAAA,CAAAe,UAAA;IAA5DE,kBAAkB,GAAAD,WAAA;IAAEE,qBAAqB,GAAAF,WAAA;EAChD,IAAAG,WAAA,GAA0C7D,QAAQ,CAAC,EAAE,CAAC;IAAA8D,WAAA,GAAApB,cAAA,CAAAmB,WAAA;IAA/CE,aAAa,GAAAD,WAAA;IAAEE,gBAAgB,GAAAF,WAAA;EACtC,IAAAG,WAAA,GAA8CjE,QAAQ,CAAC,CAAC,CAAC;IAAAkE,WAAA,GAAAxB,cAAA,CAAAuB,WAAA;IAAlDE,eAAe,GAAAD,WAAA;IAAEE,kBAAkB,GAAAF,WAAA;EAC1C,IAAAG,WAAA,GAAwCrE,QAAQ,CAAC2C,aAAa,CAAC;IAAA2B,WAAA,GAAA5B,cAAA,CAAA2B,WAAA;IAAxDE,YAAY,GAAAD,WAAA;IAAEE,eAAe,GAAAF,WAAA;EACpC,IAAAG,WAAA,GAAe3E,UAAU,CAACgB,WAAW,CAAC;IAA/B4D,IAAI,GAAAD,WAAA,CAAJC,IAAI;EACX,IAAMC,OAAO,GAAGD,IAAI,CAACA,IAAI,CAACE,MAAM;EAChC,IAAAC,WAAA,GAA4B7E,QAAQ,CAAC,KAAK,CAAC;IAAA8E,WAAA,GAAApC,cAAA,CAAAmC,WAAA;IAApCE,MAAM,GAAAD,WAAA;IAAEE,SAAS,GAAAF,WAAA;EAIxB/E,SAAS,CAAC,YAAM;IACZkF,SAAS,CAAC,CAAC,CAACC,IAAI,CAAC,UAAAC,CAAC;MAAA,OAAIC,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAC;IAAA,EAAC;EAChE,CAAC,EAAE,EAAE,CAAC;EAENtF,SAAS,CAAC,YAAM;IACZ,IAAMuF,IAAI,GAAG3C,aAAa,CAAC4C,MAAM,CAAC,UAACC,GAAG,EAAK;MACvCJ,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAE1C,aAAa,CAAC;MAC5CyC,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAElC,cAAc,CAAC;MAC9CiC,OAAO,CAACC,GAAG,CAAC,cAAc,EAAEtC,WAAW,CAAC;MACxC,IAAM0C,aAAa,GAAGtC,cAAc,GAC9BqC,GAAG,CAACE,QAAQ,CAACC,QAAQ,CAAC,CAAC,KAAKxC,cAAc,CAACwC,QAAQ,CAAC,CAAC,GACrD,IAAI;MACV,IAAMC,aAAa,GAAGJ,GAAG,CAACK,KAAK,CAC1BC,WAAW,CAAC,CAAC,CACbC,QAAQ,CAAC,CAAChD,WAAW,IAAI,EAAE,EAAE+C,WAAW,CAAC,CAAC,CAAC;MAChD,OAAOL,aAAa,IAAIG,aAAa;IACzC,CAAC,CAAC;IACFpB,eAAe,CAACc,IAAI,CAAC;EACzB,CAAC,EAAE,CAACvC,WAAW,EAAEI,cAAc,CAAC,CAAC;EAGjCpD,SAAS,CAAC,YAAM;IACZqF,OAAO,CAACC,GAAG,CAAC1C,aAAa,CAAC;IAC1BC,gBAAgB,CAACD,aAAa,CAAC;EACnC,CAAC,EAAE,CAACA,aAAa,CAAC,CAAC;EAEnB5C,SAAS,CAAC,YAAM;IACZqF,OAAO,CAACC,GAAG,CAACd,YAAY,CAAC;IACzBC,eAAe,CAACD,YAAY,CAAC;EACjC,CAAC,EAAE,CAACA,YAAY,CAAC,CAAC;EAKlB,IAAMU,SAAS;IAAA,IAAAe,KAAA,GAAAC,iBAAA,CAAG,aAAY;MAC1B,IAAI;QACA,IAAMC,SAAS,SAAShF,cAAc,CAACyD,OAAO,CAAC;QAC/C,IAAMpB,QAAO,SAASpC,YAAY,CAACwD,OAAO,CAAC;QAC3CnB,UAAU,CAACD,QAAO,CAAC;QACnBX,gBAAgB,CAACsD,SAAS,CAAC;QAC3B1B,eAAe,CAAC0B,SAAS,CAAC;QAC1B9C,iBAAiB,CAACe,eAAe,CAACwB,QAAQ,CAAC,CAAC,CAAC;QAC7CP,OAAO,CAACC,GAAG,CAACX,IAAI,CAAC;MACrB,CAAC,CAAC,OAAOyB,KAAK,EAAE;QACZf,OAAO,CAACe,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;MAChD;IACJ,CAAC;IAAA,gBAZKlB,SAASA,CAAA;MAAA,OAAAe,KAAA,CAAAI,KAAA,OAAAC,SAAA;IAAA;EAAA,GAYd;EAED,IAAMC,WAAW;IAAA,IAAAC,KAAA,GAAAN,iBAAA,CAAG,WAAOO,QAAQ,EAAK;MACpC,IAAMC,QAAQ,SAASC,KAAK,CACvB,GAAEzF,QAAS,mBAAkBuF,QAAQ,CAACG,UAAW,OACtD,CAAC;MACDvB,OAAO,CAACC,GAAG,CAACoB,QAAQ,CAAC;MACrB,IAAMG,MAAM,SAASH,QAAQ,CAACI,IAAI,CAAC,CAAC;MACpCzB,OAAO,CAACC,GAAG,CAACuB,MAAM,CAAC;MAEnB,IAAIxG,QAAQ,CAAC2B,EAAE,KAAK,KAAK,EAAE;QACvB,IAAM+E,cAAc,GAAGC,IAAI,CAACH,MAAM,CAACJ,QAAQ,CAAC;QAC5C,IAAMQ,UAAU,GAAG,EAAE;QACrB,KAAK,IAAIC,MAAM,GAAG,CAAC,EAAEA,MAAM,GAAGH,cAAc,CAACI,MAAM,EAAED,MAAM,IAAI,GAAG,EAAE;UAChE,IAAME,KAAK,GAAGL,cAAc,CAACK,KAAK,CAACF,MAAM,EAAEA,MAAM,GAAG,GAAG,CAAC;UACxD,IAAMG,WAAW,GAAG,IAAIC,KAAK,CAACF,KAAK,CAACD,MAAM,CAAC;UAC3C,KAAK,IAAII,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGH,KAAK,CAACD,MAAM,EAAEI,CAAC,EAAE,EAAE;YACnCF,WAAW,CAACE,CAAC,CAAC,GAAGH,KAAK,CAACI,UAAU,CAACD,CAAC,CAAC;UACxC;UACA,IAAME,SAAS,GAAG,IAAIC,UAAU,CAACL,WAAW,CAAC;UAC7CJ,UAAU,CAACU,IAAI,CAACF,SAAS,CAAC;QAC9B;QACA,IAAMG,IAAI,GAAG,IAAIC,IAAI,CAACZ,UAAU,EAAE;UAACa,IAAI,EAAE;QAAiB,CAAC,CAAC;QAC5D,IAAMC,GAAG,GAAGC,GAAG,CAACC,eAAe,CAACL,IAAI,CAAC;QACrC,MAAM9G,gBAAgB,CAACiH,GAAG,CAAC;QAC3BhG,SAAS,CAACmG,MAAM,CAACN,IAAI,EAAEnB,QAAQ,CAAC0B,IAAI,CAAC;QACrCH,GAAG,CAACI,eAAe,CAACL,GAAG,CAAC;MAC5B,CAAC,MAAM;QACH,IAAI;UAKA,IAAMM,QAAQ,GAAG,CAACzH,UAAU,CAAC0H,iBAAiB,GAAGzB,MAAM,CAACf,KAAK,EAAEyC,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC;UAClFlD,OAAO,CAACC,GAAG,CAAC,WAAW,EAAE+C,QAAQ,CAAC;UAElC,MAAMzH,UAAU,CAAC4H,kBAAkB,CAC/BH,QAAQ,EACRxB,MAAM,CAACJ,QAAQ,EACf;YAACgC,QAAQ,EAAE7H,UAAU,CAAC8H,YAAY,CAACC;UAAM,CAC7C,CAAC;UAED,IAAMC,WAAW,SAAS/H,OAAO,CAACgI,gBAAgB,CAAC,CAAC;UACpD,IAAI,CAACD,WAAW,EAAE;YACdE,KAAK,CAAE,iDAAgD,CAAC;YACxD;UACJ;UAEA,IAAIT,QAAQ,EAAE;YACVS,KAAK,CAAC,gBAAgB,GAAGT,QAAQ,CAAC;YAClC,MAAMxH,OAAO,CAACkI,UAAU,CAACV,QAAQ,CAAC;UACtC,CAAC,MAAM;YACHS,KAAK,CAAC,wBAAwB,CAAC;UACnC;QACJ,CAAC,CAAC,OAAO1C,KAAK,EAAE;UACZf,OAAO,CAACe,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;UAC9C0C,KAAK,CAAC,oBAAoB,CAAC;QAC/B;MACJ;IACJ,CAAC;IAAA,gBAzDKvC,WAAWA,CAAAyC,EAAA;MAAA,OAAAxC,KAAA,CAAAH,KAAA,OAAAC,SAAA;IAAA;EAAA,GAyDhB;EAGD,IAAM2C,eAAe;IAAA,IAAAC,KAAA,GAAAhD,iBAAA,CAAG,aAAY;MAChC,IAAI;QACA,IAAMQ,QAAQ,SAASC,KAAK,CACvB,GAAEzF,QAAS,wBAAuB0D,OAAQ,EAAC,EAC5C;UACIuE,MAAM,EAAE,MAAM;UACdC,OAAO,EAAE;YACL,cAAc,EAAE;UACpB,CAAC;UACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;YAACC,WAAW,EAAExF;UAAa,CAAC;QACrD,CACJ,CAAC;QACD,IAAI0C,QAAQ,CAAC+C,EAAE,EAAE;UACbpE,OAAO,CAACC,GAAG,CAAC,6BAA6B,CAAC;QAC9C,CAAC,MAAM;UACHD,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAC;QACxC;QACAzB,qBAAqB,CAAC,KAAK,CAAC;QAC5B,IAAML,SAAO,SAASpC,YAAY,CAACwD,OAAO,CAAC;QAC3CnB,UAAU,CAACD,SAAO,CAAC;MACvB,CAAC,CAAC,OAAO4C,KAAK,EAAE;QACZf,OAAO,CAACe,KAAK,CAACA,KAAK,CAAC;MACxB;IACJ,CAAC;IAAA,gBAvBK6C,eAAeA,CAAA;MAAA,OAAAC,KAAA,CAAA7C,KAAA,OAAAC,SAAA;IAAA;EAAA,GAuBpB;EAED,IAAMoD,wBAAwB;IAAA,IAAAC,KAAA,GAAAzD,iBAAA,CAAG,WAAOO,QAAQ,EAAK;MACjD,IAAI;QACA,IAAMsB,GAAG,GAAI,GAAE7G,QAAS,mBAAkBuF,QAAQ,CAACG,UAAW,EAAC;QAC/D,IAAMF,QAAQ,SAASC,KAAK,CAACoB,GAAG,EAAE;UAC9BoB,MAAM,EAAE;QACZ,CAAC,CAAC;QACF,IAAIzC,QAAQ,CAAC+C,EAAE,EAAE;UACbpE,OAAO,CAACC,GAAG,CAAC,+BAA+B,CAAC;UAC5C,MAAMJ,SAAS,CAAC,CAAC;QACrB,CAAC,MAAM;UACHG,OAAO,CAACC,GAAG,CAAC,yBAAyB,CAAC;QAC1C;MACJ,CAAC,CAAC,OAAOc,KAAK,EAAE;QACZf,OAAO,CAACe,KAAK,CAACA,KAAK,CAAC;MACxB;IACJ,CAAC;IAAA,gBAfKsD,wBAAwBA,CAAAE,GAAA;MAAA,OAAAD,KAAA,CAAAtD,KAAA,OAAAC,SAAA;IAAA;EAAA,GAe7B;EAED,IAAMuD,0BAA0B,GAAG,SAA7BA,0BAA0BA,CAAIpD,QAAQ,EAAK;IAC7CF,WAAW,CAACE,QAAQ,CAAC;EACzB,CAAC;EAED,IAAMqD,cAAc,GAAG,SAAjBA,cAAcA,CAAInE,QAAQ,EAAK;IACjC,IAAMoE,WAAW,GAAGvG,OAAO,CAACwG,IAAI,CAAC,UAACC,MAAM;MAAA,OAAKA,MAAM,CAACtE,QAAQ,KAAKA,QAAQ;IAAA,EAAC;IAC1E,OAAOoE,WAAW,GAAGA,WAAW,CAACjE,KAAK,GAAG,EAAE;EAC/C,CAAC;EAKD,IAAMoE,sBAAsB,GAAG,SAAzBA,sBAAsBA,CAAAC,KAAA;IAAA,IAAKC,IAAI,GAAAD,KAAA,CAAJC,IAAI;IAAA,OACjCxI,KAAA,CAACjB,IAAI;MAAC0J,KAAK,EAAEC,MAAM,CAACC,YAAa;MAAAC,QAAA,GAC7B9I,IAAA,CAAClB,IAAI;QAAC6J,KAAK,EAAEC,MAAM,CAACG,YAAa;QAAAD,QAAA,EAAEJ,IAAI,CAACtE;MAAK,CAAO,CAAC,EACrDlE,KAAA,CAACjB,IAAI;QAAA6J,QAAA,GACD9I,IAAA,CAAClB,IAAI;UAAC6J,KAAK,EAAEC,MAAM,CAACI,eAAgB;UAAAF,QAAA,EAAC;QAAa,CAAM,CAAC,EACzD9I,IAAA,CAAClB,IAAI;UAAC6J,KAAK,EAAEC,MAAM,CAACG,YAAa;UAAAD,QAAA,EAAEJ,IAAI,CAACO;QAAW,CAAO,CAAC;MAAA,CACzD,CAAC,EACP/I,KAAA,CAACjB,IAAI;QAAC0J,KAAK,EAAE;UAACO,aAAa,EAAE;QAAK,CAAE;QAAAJ,QAAA,GAChC9I,IAAA,CAAClB,IAAI;UAAC6J,KAAK,EAAEC,MAAM,CAACG,YAAa;UAAAD,QAAA,EAAC;QAAgB,CAAM,CAAC,EACzD9I,IAAA,CAAClB,IAAI;UAAC6J,KAAK,EAAEC,MAAM,CAACG,YAAa;UAAAD,QAAA,EAAEJ,IAAI,CAACS,aAAa,KAAK,IAAI,GAAG,MAAM,GAAGT,IAAI,CAACS;QAAa,CAAO,CAAC;MAAA,CAClG,CAAC,EACPjJ,KAAA,CAACjB,IAAI;QAAC0J,KAAK,EAAE;UAACO,aAAa,EAAE;QAAK,CAAE;QAAAJ,QAAA,GAChC9I,IAAA,CAAClB,IAAI;UAAC6J,KAAK,EAAEC,MAAM,CAACG,YAAa;UAAAD,QAAA,EAAC;QAAwB,CAAM,CAAC,EACjE9I,IAAA,CAAClB,IAAI;UAAC6J,KAAK,EAAEC,MAAM,CAACG,YAAa;UAAAD,QAAA,EAAEJ,IAAI,CAACU,oBAAoB,KAAK,IAAI,GAAG,MAAM,GAAGV,IAAI,CAACU;QAAoB,CAAO,CAAC;MAAA,CAChH,CAAC,EACPlJ,KAAA,CAACjB,IAAI;QAAC0J,KAAK,EAAE;UAACO,aAAa,EAAE;QAAK,CAAE;QAAAJ,QAAA,GAChC9I,IAAA,CAAClB,IAAI;UAAC6J,KAAK,EAAEC,MAAM,CAACG,YAAa;UAAAD,QAAA,EAAC;QAAQ,CAAM,CAAC,EACjD9I,IAAA,CAAClB,IAAI;UAAC6J,KAAK,EAAEC,MAAM,CAACG,YAAa;UAAAD,QAAA,EAAEV,cAAc,CAACM,IAAI,CAACzE,QAAQ;QAAC,CAAO,CAAC;MAAA,CACtE,CAAC,EACPjE,IAAA,CAAClB,IAAI;QAAAgK,QAAA,EAAC;MAAM,CAAM,CAAC,EACnB5I,KAAA,CAACjB,IAAI;QAAC0J,KAAK,EAAE;UAACO,aAAa,EAAE;QAAK,CAAE;QAAAJ,QAAA,GAChC9I,IAAA,CAAChB,gBAAgB;UACbqK,OAAO,EAAE,SAAAA,QAAA;YAAA,OAAMrB,wBAAwB,CAACU,IAAI,CAAC;UAAA,CAAC;UAC9CC,KAAK,EAAE;YACHW,WAAW,EAAE,CAAC;YACdC,WAAW,EAAE,OAAO;YACpBC,YAAY,EAAE,EAAE;YAChBC,OAAO,EAAE,CAAC;YACVC,UAAU,EAAE,QAAQ;YACpBC,cAAc,EAAE;UACpB,CAAE;UAAAb,QAAA,EACF9I,IAAA,CAACH,WAAW;YAAC4G,IAAI,EAAC,QAAQ;YAACmD,IAAI,EAAE,EAAG;YAACC,KAAK,EAAC;UAAO,CAAC;QAAC,CACtC,CAAC,EACnB7J,IAAA,CAAClB,IAAI;UAAAgK,QAAA,EAAC;QAAa,CAAM,CAAC,EAC1B9I,IAAA,CAAChB,gBAAgB;UACbqK,OAAO,EAAE,SAAAA,QAAA;YAAA,OAAMlB,0BAA0B,CAACO,IAAI,CAAC;UAAA,CAAC;UAChDC,KAAK,EAAE;YACHW,WAAW,EAAE,CAAC;YACdC,WAAW,EAAE,OAAO;YACpBC,YAAY,EAAE,EAAE;YAChBC,OAAO,EAAE,CAAC;YACVC,UAAU,EAAE,QAAQ;YACpBC,cAAc,EAAE;UACpB,CAAE;UAAAb,QAAA,EAEF9I,IAAA,CAACJ,MAAM;YAAC6G,IAAI,EAAC,UAAU;YAACmD,IAAI,EAAE,EAAG;YAACC,KAAK,EAAC;UAAO,CAAC;QAAC,CACnC,CAAC;MAAA,CACjB,CAAC;IAAA,CACL,CAAC;EAAA,CACV;EAID,OACI3J,KAAA,CAACtB,YAAY;IAAC+J,KAAK,EAAEC,MAAM,CAACkB,SAAU;IAAAhB,QAAA,GAElC9I,IAAA,CAACf,IAAI;MAAC0J,KAAK,EAAEC,MAAM,CAACmB,qBAAsB;MAAAjB,QAAA,EACtC9I,IAAA,CAACT,gBAAgB;QAACyK,aAAa,EAAExG,SAAU;QAACyG,WAAW,EAAEnI,OAAQ;QAACoI,aAAa,EAAE;MAAK,CAAC;IAAC,CACtF,CAAC,EACPlK,IAAA,CAAClB,IAAI;MAAAgK,QAAA,EAAC;IAAc,CAAM,CAAC,EAC3B9I,IAAA,CAACf,IAAI;MAAC0J,KAAK,EAAEC,MAAM,CAACmB,qBAAsB;MAAAjB,QAAA,EACtC9I,IAAA,CAACvB,QAAQ;QACL0L,mBAAmB,EACfjK,KAAA,CAAAE,SAAA;UAAA0I,QAAA,GACI9I,IAAA,CAAClB,IAAI;YAAC6J,KAAK,EAAEC,MAAM,CAACwB,UAAW;YAAAtB,QAAA,EAAC;UAA+B,CAAM,CAAC,EACtE5I,KAAA,CAACjB,IAAI;YAAC0J,KAAK,EAAEC,MAAM,CAACmB,qBAAsB;YAAAjB,QAAA,GACtC9I,IAAA,CAACjB,SAAS;cACN4J,KAAK,EAAEC,MAAM,CAACyB,SAAU;cACxBC,WAAW,EAAC,qBAAqB;cACjCC,KAAK,EAAEjJ,WAAY;cACnBkJ,YAAY,EAAEjJ;YAAe,CAChC,CAAC,EACFvB,IAAA,CAAClB,IAAI;cAAAgK,QAAA,EAAC;YAA2B,CAAM,CAAC,EACxC9I,IAAA,CAACf,IAAI;cAAC0J,KAAK,EAAE;gBAAC8B,MAAM,EAAE;cAAI,CAAE;cAAA3B,QAAA,EACxB9I,IAAA,CAACV,cAAc;gBACXoL,QAAQ,EAAE,OAAQ;gBAClBC,IAAI,EAAErH,MAAO;gBACbsH,OAAO,EAAErH,SAAU;gBACnBgH,KAAK,EAAE7I,cAAe;gBACtBmJ,QAAQ,EAAElJ,iBAAkB;gBAC5BmJ,KAAK,EAAEhJ,OAAO,CAACiJ,GAAG,CAAC,UAAAxC,MAAM;kBAAA,OAAK;oBAACyC,KAAK,EAAEzC,MAAM,CAACnE,KAAK;oBAAEmG,KAAK,EAAEhC,MAAM,CAACtE;kBAAQ,CAAC;gBAAA,CAAC,CAAE;gBAC9EgH,cAAc,EAAE;kBAACC,MAAM,EAAE;gBAAE,CAAE;gBAC7BvC,KAAK,EAAE;kBAACwC,eAAe,EAAE;gBAAS,CAAE;gBACpCC,aAAa,EAAE;kBAACD,eAAe,EAAE,SAAS;kBAAEV,MAAM,EAAE;gBAAI;cAAE,CAC7D;YAAC,CACA,CAAC,EACPzK,IAAA,CAAClB,IAAI;cAAAgK,QAAA,EAAC;YAAM,CAAM,CAAC,EACnB9I,IAAA,CAACf,IAAI;cAAC0J,KAAK,EAAEC,MAAM,CAACyC,aAAc;cAAAvC,QAAA,EAC9B9I,IAAA,CAAChB,gBAAgB;gBACbqK,OAAO,EAAE,SAAAA,QAAA;kBAAA,OAAMlH,qBAAqB,CAAC,IAAI,CAAC;gBAAA,CAAC;gBAAA2G,QAAA,EAE3C9I,IAAA,CAACL,SAAS;kBAAC8G,IAAI,EAAC,WAAW;kBAACmD,IAAI,EAAE,EAAG;kBAACC,KAAK,EAAC;gBAAO,CAAC;cAAC,CACvC;YAAC,CACjB,CAAC,EACN3H,kBAAkB,IACflC,IAAA,CAACtB,KAAK;cACF4M,aAAa,EAAC,OAAO;cACrBC,WAAW,EAAE,IAAK;cAClBC,OAAO,EAAEtJ,kBAAmB;cAAA4G,QAAA,EAE5B9I,IAAA,CAACf,IAAI;gBAAC0J,KAAK,EAAEC,MAAM,CAAC6C,YAAa;gBAAA3C,QAAA,EAC7B5I,KAAA,CAACjB,IAAI;kBAAC0J,KAAK,EAAEC,MAAM,CAAC8C,SAAU;kBAAA5C,QAAA,GAC1B9I,IAAA,CAAClB,IAAI;oBAAC6J,KAAK,EAAEC,MAAM,CAACI,eAAgB;oBAAAF,QAAA,EAAC;kBAA0B,CAAM,CAAC,EACtE9I,IAAA,CAACjB,SAAS;oBACNuL,WAAW,EAAC,iBAAiB;oBAC7BC,KAAK,EAAEjI,aAAc;oBACrBkI,YAAY,EAAEjI,gBAAiB;oBAC/BoG,KAAK,EAAEC,MAAM,CAAC+C,cAAe;oBAC7BC,oBAAoB,EAAC;kBAAM,CAC9B,CAAC,EACF5L,IAAA,CAAChB,gBAAgB;oBAAC2J,KAAK,EAAEC,MAAM,CAACiD,MAAO;oBAACxC,OAAO,EAAE9B,eAAgB;oBAAAuB,QAAA,EAC7D9I,IAAA,CAAClB,IAAI;sBAAC6J,KAAK,EAAEC,MAAM,CAACkD,UAAW;sBAAAhD,QAAA,EAAC;oBAAa,CAAM;kBAAC,CACtC,CAAC,EACnB9I,IAAA,CAAChB,gBAAgB;oBAAC2J,KAAK,EAAEC,MAAM,CAACmD,YAAa;oBAC3B1C,OAAO,EAAE,SAAAA,QAAA;sBAAA,OAAMlH,qBAAqB,CAAC,KAAK,CAAC;oBAAA,CAAC;oBAAA2G,QAAA,EAC1D9I,IAAA,CAAClB,IAAI;sBAAC6J,KAAK,EAAEC,MAAM,CAACkD,UAAW;sBAAAhD,QAAA,EAAC;oBAAM,CAAM;kBAAC,CAC/B,CAAC;gBAAA,CACjB;cAAC,CACL;YAAC,CACJ,CACV;UAAA,CACC,CAAC;QAAA,CACT,CACL;QACDkD,IAAI,EAAElJ,YAAa;QACnBmJ,UAAU,EAAEzD,sBAAuB;QACnC0D,kBAAkB,EAAE,SAAAA,mBAAA;UAAA,OAChBhM,KAAA,CAACjB,IAAI;YAAC0J,KAAK,EAAEC,MAAM,CAACuD,kBAAmB;YAAArD,QAAA,GACnC9I,IAAA,CAACF,aAAa;cAAC2G,IAAI,EAAC,aAAa;cAACmD,IAAI,EAAE,EAAG;cAACC,KAAK,EAAC;YAAW,CAAC,CAAC,EAC/D7J,IAAA,CAAClB,IAAI;cAAC6J,KAAK,EAAEC,MAAM,CAACwD,aAAc;cAAAtD,QAAA,EAAC;YAEnC,CAAM,CAAC;UAAA,CACL,CAAC;QAAA,CACT;QACFuD,YAAY,EAAE,SAAAA,aAAC3D,IAAI,EAAE4D,KAAK;UAAA,OACtB5D,IAAI,CAAC6D,EAAE,GAAG7D,IAAI,CAAC6D,EAAE,CAACrI,QAAQ,CAAC,CAAC,GAAGoI,KAAK,CAACpI,QAAQ,CAAC,CAAC;QAAA,CAClD;QACDsI,mBAAmB,EACfxM,IAAA,CAAAI,SAAA;UAAA0I,QAAA,EACI5I,KAAA,CAACpB,IAAI;YAAC6J,KAAK,EAAEC,MAAM,CAAC6D,QAAS;YAAA3D,QAAA,GAAC,WACjB,EAAC7F,IAAI,CAACA,IAAI,CAACwD,IAAI,EAAC,iBAAe,EAACvD,OAAO,EAAC,QACrD;UAAA,CAAM;QAAC,CACT;MACL,CACJ;IAAC,CACA,CAAC;EAAA,CACG,CAAC;AAEvB;AAEA,IAAM0F,MAAM,GAAG/J,UAAU,CAAC6N,MAAM,CAAC;EAC7B5C,SAAS,EAAE;IACPL,OAAO,EAAE,KAAK;IACd0B,eAAe,EAAE,MAAM;IACvBwB,IAAI,EAAE,CAAC;IACPC,iBAAiB,EAAE;EACvB,CAAC;EAEDC,UAAU,EAAE;IACRC,QAAQ,EAAE,EAAE;IACZC,YAAY,EAAE,IAAI;IAClBC,SAAS,EAAE;EACf,CAAC;EAED3C,SAAS,EAAE;IACPa,MAAM,EAAE,KAAK;IACb5B,WAAW,EAAE,CAAC;IACdC,WAAW,EAAE,MAAM;IACnBC,YAAY,EAAE,EAAE;IAChBoD,iBAAiB,EAAE,CAAC;IACpBK,cAAc,EAAE;EACpB,CAAC;EAED5B,aAAa,EAAE;IACX3B,UAAU,EAAE,YAAY;IACxBC,cAAc,EAAE,cAAc;IAC9BT,aAAa,EAAE,KAAK;IACpBK,WAAW,EAAE,MAAM;IACnBD,WAAW,EAAE,CAAC;IACdE,YAAY,EAAE,EAAE;IAChBC,OAAO,EAAE;EACb,CAAC;EAEDyD,oBAAoB,EAAE;IAClBD,cAAc,EAAE;EACpB,CAAC;EAEDE,gBAAgB,EAAE;IACdjC,MAAM,EAAE,EAAE;IACV3B,WAAW,EAAE,MAAM;IACnBD,WAAW,EAAE,CAAC;IACdE,YAAY,EAAE,CAAC;IACfyD,cAAc,EAAG,IAAG;IACpBxD,OAAO,EAAG;EACd,CAAC;EAED2D,cAAc,EAAE;IACZjC,eAAe,EAAE,SAAS;IAC1B5B,WAAW,EAAE,SAAS;IACtBD,WAAW,EAAE,CAAC;IACd+D,eAAe,EAAE,EAAE;IACnBT,iBAAiB,EAAE,EAAE;IACrBpD,YAAY,EAAE,EAAE;IAChBE,UAAU,EAAE,QAAQ;IACpBC,cAAc,EAAE,QAAQ;IACxB2D,WAAW,EAAE,MAAM;IACnBC,YAAY,EAAE;MACV5M,KAAK,EAAE,CAAC;MACRuK,MAAM,EAAE;IACZ,CAAC;IACDsC,aAAa,EAAE,GAAG;IAClBC,YAAY,EAAE;EAClB,CAAC;EAEDC,kBAAkB,EAAE;IAChB7D,KAAK,EAAE,SAAS;IAChB8D,UAAU,EAAE,KAAK;IACjBb,QAAQ,EAAE;EACd,CAAC;EAGD1C,UAAU,EAAE;IACR0C,QAAQ,EAAE,EAAE;IACZC,YAAY,EAAE,IAAI;IAClBY,UAAU,EAAE;EAChB,CAAC;EAED5D,qBAAqB,EAAE;IACnBT,WAAW,EAAE,CAAC;IACdC,WAAW,EAAE,MAAM;IACnBC,YAAY,EAAE,CAAC;IACfC,OAAO,EAAE,IAAI;IACbmE,UAAU,EAAE,MAAM;IAClBjB,IAAI,EAAE;EACV,CAAC;EAED9D,YAAY,EAAE;IACVK,aAAa,EAAE,QAAQ;IACvBQ,UAAU,EAAE,QAAQ;IACpBC,cAAc,EAAE,eAAe;IAC/BF,OAAO,EAAE,MAAM;IACfsD,YAAY,EAAE,IAAI;IAClB5B,eAAe,EAAE,SAAS;IAC1B3B,YAAY,EAAE,EAAE;IAChB7I,KAAK,EAAE,MAAM;IACb2M,WAAW,EAAE,MAAM;IACnBC,YAAY,EAAE;MACV5M,KAAK,EAAE,CAAC;MACRuK,MAAM,EAAE;IACZ,CAAC;IACDsC,aAAa,EAAE,IAAI;IACnBC,YAAY,EAAE;EAClB,CAAC;EAED1E,YAAY,EAAE;IACV+D,QAAQ,EAAE,EAAE;IACZa,UAAU,EAAE,KAAK;IACjB9D,KAAK,EAAE;EACX,CAAC;EAEDb,eAAe,EAAE;IACb8D,QAAQ,EAAE,EAAE;IACZe,SAAS,EAAE,QAAQ;IACnBF,UAAU,EAAE;EAChB,CAAC;EAEDlC,YAAY,EAAE;IACVkB,IAAI,EAAE,CAAC;IACPhD,cAAc,EAAE,QAAQ;IACxBD,UAAU,EAAE,QAAQ;IACpByB,eAAe,EAAE;EACrB,CAAC;EAEDO,SAAS,EAAE;IACP/K,KAAK,EAAE,KAAK;IACZwK,eAAe,EAAE,OAAO;IACxB3B,YAAY,EAAE,EAAE;IAChBC,OAAO,EAAE,EAAE;IACXC,UAAU,EAAE,QAAQ;IACpB4D,WAAW,EAAE,MAAM;IACnBC,YAAY,EAAE;MACV5M,KAAK,EAAE,CAAC;MACRuK,MAAM,EAAE;IACZ,CAAC;IACDsC,aAAa,EAAE,IAAI;IACnBC,YAAY,EAAE,IAAI;IAClBK,SAAS,EAAE;EACf,CAAC;EAEDnC,cAAc,EAAE;IACZhL,KAAK,EAAE,MAAM;IACbuK,MAAM,EAAE,EAAE;IACV3B,WAAW,EAAE,MAAM;IACnBD,WAAW,EAAE,CAAC;IACdE,YAAY,EAAE,CAAC;IACfoD,iBAAiB,EAAE,EAAE;IACrBG,YAAY,EAAE;EAClB,CAAC;EAEDlB,MAAM,EAAE;IACJV,eAAe,EAAE,SAAS;IAC1B1B,OAAO,EAAE,EAAE;IACXD,YAAY,EAAE,CAAC;IACf7I,KAAK,EAAE,MAAM;IACb+I,UAAU,EAAE,QAAQ;IACpBuD,cAAc,EAAE;EACpB,CAAC;EACDlB,YAAY,EAAE;IACVZ,eAAe,EAAE,MAAM;IACvB1B,OAAO,EAAE,EAAE;IACXD,YAAY,EAAE,CAAC;IACf7I,KAAK,EAAE,MAAM;IACb+I,UAAU,EAAE,QAAQ;IACpBuD,cAAc,EAAE;EACpB,CAAC;EACDnB,UAAU,EAAE;IACRjC,KAAK,EAAE,OAAO;IACd8D,UAAU,EAAE;EAChB,CAAC;EAEDI,MAAM,EAAE;IACJjB,QAAQ,EAAE,EAAE;IACZO,eAAe,EAAE,IAAI;IACrBT,iBAAiB,EAAE,MAAM;IACzBtD,WAAW,EAAE,CAAC;IACdC,WAAW,EAAE,MAAM;IACnBC,YAAY,EAAE,CAAC;IACf2B,eAAe,EAAE,OAAO;IACxBtB,KAAK,EAAE;EACX,CAAC;EAED4C,QAAQ,EAAE;IACNK,QAAQ,EAAE,EAAE;IACZjD,KAAK,EAAE;EACX,CAAC;EAEDsC,kBAAkB,EAAE;IAChBQ,IAAI,EAAE,CAAC;IACPjD,UAAU,EAAE,QAAQ;IACpBC,cAAc,EAAE,QAAQ;IACxBF,OAAO,EAAE;EACb,CAAC;EACD2C,aAAa,EAAE;IACXU,QAAQ,EAAE,EAAE;IACZjD,KAAK,EAAE,MAAM;IACbmD,SAAS,EAAE,QAAQ;IACnBgB,SAAS,EAAE;EACf,CAAC;EAAEC,SAAS,EAATA;AAEP,CAAC,CAAC;AACF,eAAerN,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}