{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableHighlight from \"react-native-web/dist/exports/TouchableHighlight\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport * as ImagePicker from 'expo-image-picker';\nimport ImageGallery from \"./ImageGallery\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar EditForumCommentModal = function EditForumCommentModal(_ref) {\n  var isVisible = _ref.isVisible,\n    onCancel = _ref.onCancel,\n    onSubmit = _ref.onSubmit,\n    comment = _ref.comment;\n  var _useState = useState(comment.message),\n    _useState2 = _slicedToArray(_useState, 2),\n    message = _useState2[0],\n    setMessage = _useState2[1];\n  useEffect(function () {\n    _asyncToGenerator(function* () {\n      var _yield$ImagePicker$re = yield ImagePicker.requestMediaLibraryPermissionsAsync(),\n        status = _yield$ImagePicker$re.status;\n      if (status !== 'granted') {\n        alert('Permission to access camera roll is required!');\n      }\n    })();\n  }, []);\n  var handleMessageChange = function handleMessageChange(text) {\n    setMessage(text);\n  };\n  var handleSubmit = function () {\n    var _ref3 = _asyncToGenerator(function* () {\n      var commentDetails = {\n        forumCommentId: comment.forumCommentId,\n        message: message\n      };\n      onSubmit(commentDetails);\n      onCancel();\n    });\n    return function handleSubmit() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var handleCancel = function handleCancel() {\n    setMessage(comment.message);\n    onCancel();\n  };\n  return _jsx(Modal, {\n    transparent: true,\n    animationType: \"slide\",\n    visible: isVisible,\n    children: _jsx(View, {\n      style: styles.modalContainer,\n      children: _jsxs(View, {\n        style: styles.modalContent,\n        children: [_jsx(Text, {\n          style: styles.modalTitle,\n          children: \"Edit Forum Comment\"\n        }), _jsxs(View, {\n          style: styles.inputContainer,\n          children: [_jsx(Text, {\n            style: styles.label,\n            children: \"Message:\"\n          }), _jsx(TextInput, {\n            style: styles.input,\n            placeholder: \"Enter Message\",\n            value: message,\n            onChangeText: handleMessageChange\n          }), _jsx(ImageGallery, {\n            images: comment.images\n          })]\n        }), _jsxs(View, {\n          style: styles.buttonContainer,\n          children: [_jsx(TouchableHighlight, {\n            style: [styles.button, {\n              backgroundColor: 'red'\n            }],\n            onPress: handleCancel,\n            underlayColor: \"#EAEAEA\",\n            children: _jsx(Text, {\n              style: styles.buttonText,\n              children: \"Cancel\"\n            })\n          }), _jsx(TouchableHighlight, {\n            style: [styles.button, {\n              backgroundColor: '#FFD700'\n            }, message.trim() === '' && styles.buttonDisabled],\n            onPress: handleSubmit,\n            underlayColor: \"#EAEAEA\",\n            disabled: message.trim() === '',\n            children: _jsx(Text, {\n              style: styles.buttonText,\n              children: \"Submit\"\n            })\n          })]\n        })]\n      })\n    })\n  });\n};\nvar styles = StyleSheet.create({\n  modalContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'rgba(0, 0, 0, 0.5)'\n  },\n  modalContent: {\n    backgroundColor: 'white',\n    borderRadius: 10,\n    padding: 20,\n    alignItems: 'center',\n    width: '80%'\n  },\n  modalTitle: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    marginBottom: 5,\n    textAlign: 'center'\n  },\n  label: {\n    fontSize: 16,\n    marginTop: 10,\n    marginBottom: 5,\n    textAlign: 'left',\n    alignSelf: 'flex-start'\n  },\n  inputContainer: {\n    width: '100%'\n  },\n  input: {\n    height: 50,\n    textAlignVertical: 'top',\n    borderRadius: 5,\n    borderColor: '#ccc',\n    borderWidth: 1,\n    marginBottom: 10,\n    paddingHorizontal: 10,\n    paddingVertical: 12,\n    width: '100%'\n  },\n  selectedImage: {\n    width: 150,\n    height: 150\n  },\n  removeImageButton: {\n    backgroundColor: '#ccc',\n    padding: 5,\n    borderRadius: 5,\n    marginTop: 5,\n    alignItems: 'center'\n  },\n  removeImageText: {\n    color: 'white'\n  },\n  buttonContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    width: '90%',\n    marginTop: 10\n  },\n  button: {\n    width: '45%',\n    borderRadius: 5,\n    alignItems: 'center',\n    padding: 10\n  },\n  buttonText: {\n    color: 'black',\n    fontWeight: 'bold'\n  },\n  buttonDisabled: {\n    opacity: 0.5,\n    backgroundColor: 'gray'\n  }\n});\nexport default EditForumCommentModal;","map":{"version":3,"names":["React","useState","useEffect","Modal","View","Text","TextInput","Button","StyleSheet","TouchableHighlight","Image","ScrollView","ImagePicker","ImageGallery","jsx","_jsx","jsxs","_jsxs","EditForumCommentModal","_ref","isVisible","onCancel","onSubmit","comment","_useState","message","_useState2","_slicedToArray","setMessage","_asyncToGenerator","_yield$ImagePicker$re","requestMediaLibraryPermissionsAsync","status","alert","handleMessageChange","text","handleSubmit","_ref3","commentDetails","forumCommentId","apply","arguments","handleCancel","transparent","animationType","visible","children","style","styles","modalContainer","modalContent","modalTitle","inputContainer","label","input","placeholder","value","onChangeText","images","buttonContainer","button","backgroundColor","onPress","underlayColor","buttonText","trim","buttonDisabled","disabled","create","flex","justifyContent","alignItems","borderRadius","padding","width","fontSize","fontWeight","marginBottom","textAlign","marginTop","alignSelf","height","textAlignVertical","borderColor","borderWidth","paddingHorizontal","paddingVertical","selectedImage","removeImageButton","removeImageText","color","flexDirection","opacity"],"sources":["/Users/kathleen/Documents/IS4103Capstone/PropertyGo/frontend/mobile/components/Forum/EditForumCommentModal.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Modal, View, Text, TextInput, Button, StyleSheet, TouchableHighlight, Image, ScrollView } from 'react-native';\nimport * as ImagePicker from 'expo-image-picker';\nimport ImageGallery from './ImageGallery';\n\nconst EditForumCommentModal = ({ isVisible, onCancel, onSubmit, comment }) => {\n    const [message, setMessage] = useState(comment.message);\n\n    useEffect(() => {\n        (async () => {\n            const { status } = await ImagePicker.requestMediaLibraryPermissionsAsync();\n            if (status !== 'granted') {\n                alert('Permission to access camera roll is required!');\n            }\n        })();\n    }, []);\n\n    const handleMessageChange = (text) => {\n        setMessage(text);\n    };\n\n\n    const handleSubmit = async () => {\n\n\n        const commentDetails = {\n            forumCommentId: comment.forumCommentId,\n            message,\n        };\n\n        // console.log(commentDetails);\n\n        onSubmit(commentDetails);\n\n        // Close the modal\n        onCancel();\n    };\n\n    const handleCancel = () => {\n        setMessage(comment.message);\n\n        // Close the modal\n        onCancel();\n    };\n\n    return (\n        <Modal transparent={true} animationType=\"slide\" visible={isVisible}>\n            <View style={styles.modalContainer}>\n                <View style={styles.modalContent}>\n                    <Text style={styles.modalTitle}>Edit Forum Comment</Text>\n                    <View style={styles.inputContainer}>\n                        <Text style={styles.label}>Message:</Text>\n                        <TextInput\n                            style={styles.input}\n                            placeholder=\"Enter Message\"\n                            value={message}\n                            onChangeText={handleMessageChange}\n                        />\n\n                        <ImageGallery images={comment.images} />\n                    </View>\n                    <View style={styles.buttonContainer}>\n                        <TouchableHighlight\n                            style={[styles.button, { backgroundColor: 'red' }]}\n                            onPress={handleCancel}\n                            underlayColor=\"#EAEAEA\"\n                        >\n                            <Text style={styles.buttonText}>Cancel</Text>\n                        </TouchableHighlight>\n                        <TouchableHighlight\n                            style={[\n                                styles.button,\n                                { backgroundColor: '#FFD700' }, // Yellow background for submit button\n                                (message.trim() === '') && styles.buttonDisabled, // disabled when topicName is empty\n                            ]}\n                            onPress={handleSubmit}\n                            underlayColor=\"#EAEAEA\"\n                            disabled={(message.trim() === '')} // Disable the button if topicName is empty\n                        >\n                            <Text style={styles.buttonText}>Submit</Text>\n                        </TouchableHighlight>\n                    </View>\n                </View>\n            </View>\n        </Modal>\n    );\n};\n\nconst styles = StyleSheet.create({\n    modalContainer: {\n        flex: 1,\n        justifyContent: 'center',\n        alignItems: 'center',\n        backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    },\n    modalContent: {\n        backgroundColor: 'white',\n        borderRadius: 10,\n        padding: 20,\n        alignItems: 'center',\n        width: '80%',\n    },\n    modalTitle: {\n        fontSize: 20,\n        fontWeight: 'bold',\n        marginBottom: 5,\n        textAlign: 'center',\n    },\n    label: {\n        fontSize: 16,\n        marginTop: 10,\n        marginBottom: 5,\n        textAlign: 'left',\n        alignSelf: 'flex-start',\n    },\n    inputContainer: {\n        width: '100%',\n    },\n    input: {\n        height: 50,\n        textAlignVertical: 'top',\n        borderRadius: 5,\n        borderColor: '#ccc',\n        borderWidth: 1,\n        marginBottom: 10,\n        paddingHorizontal: 10,\n        paddingVertical: 12,\n        width: '100%',\n    },\n    selectedImage: {\n        width: 150,\n        height: 150,\n    },\n    removeImageButton: {\n        backgroundColor: '#ccc',\n        padding: 5,\n        borderRadius: 5,\n        marginTop: 5,\n        alignItems: 'center',\n    },\n    removeImageText: {\n        color: 'white',\n    },\n    buttonContainer: {\n        flexDirection: 'row',\n        justifyContent: 'space-between',\n        width: '90%',\n        marginTop: 10,\n    },\n    button: {\n        width: '45%',\n        borderRadius: 5,\n        alignItems: 'center',\n        padding: 10,\n    },\n    buttonText: {\n        color: 'black',\n        fontWeight: 'bold',\n    },\n    buttonDisabled: {\n        opacity: 0.5,\n        backgroundColor: 'gray',\n    },\n});\n\nexport default EditForumCommentModal;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}